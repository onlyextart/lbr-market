/* lbr-market - v1.0.0 */
function addToCart(a){var b=wishlistFlag="",c=1,d=$(this).parent(),e=a.target||a.srcElement,f=e.className;if("small-cart-button-wishlist"===f){wishlistFlag=1,c=d.attr("count");var g=d.attr("original");void 0!==g&&g!==!1&&(b=g),d.parent().hide()}else if("small-cart-button"===f){var h=d.find(".cart-quantity");c=parseInt(h.val());var g=d.attr("original");void 0!==g&&g!==!1&&(b=g)}c>0?$.ajax({type:"POST",url:"/cart/add",dataType:"json",data:{id:d.attr("elem"),count:c,original:b,wishlistFlag:wishlistFlag},success:function(a){if($(".cart-quantity").val("1"),a.count){var b=" товаров";1==a.count?b=" товар":(2==a.count||3==a.count||4==a.count)&&(b=" товарa"),$("#cart-count").text(a.count+b)}alertify.success(a.message)}}):alertify.success('<div class="mes-notify"><span></span><div>Введено неправильное количество</div></div>')}function showRegions(){$.ajax({url:"/site/getRegions/",type:"POST",dataType:"json",success:function(a){var b=[];$.each(a.filials,function(a,c){b.push({v:c,k:a})}),b.sort(function(a,b){return a.v>b.v?1:a.v<b.v?-1:0}),$.each(b,function(a,b){$("#select-region").append($("<option></option>").attr("value",b.k).text(b.v))}),a.active&&$("#select-region").val(a.active).prop("selected",!0),$("#setRegion").dialog("open")},error:function(){alert("Ошибка запроса к серверу.")}})}function setCookie(a,b,c,d,e,f){if(!a||!b)return!1;var g=a+"="+encodeURIComponent(b),h=new Date;h.setTime(h.getTime()),c&&(c=1e3*c*60*60*24);var i=new Date(h.getTime()+c);return c&&(g+="; expires="+i.toGMTString()),d&&(g+="; path="+d),e&&(g+="; domain="+e),f&&(g+="; secure"),document.cookie=g,!0}function getCookie(a){var b="(?:; )?"+a+"=([^;]*);?",c=new RegExp(b);return c.test(document.cookie)?decodeURIComponent(RegExp.$1):!1}function saveAnalitics(a){if(!lbrAnaliticsSaved){var b=window.location.pathname,c=((new Date).getTime()-lbrAnaliticsTimerStart)/1e3;$.ajax({url:"/analitics/save/",type:"POST",dataType:"json",data:{time:c,url:b,url_mark:lbrAnaliticsMark},success:function(){"blur"==a?lbrAnaliticsBlur=!0:lbrAnaliticsSaved=!0}})}}function AjaxQuickSearch(a){var b=this;"full"==a?(this.Option={url:"/search/index/",container:".full-quick-result",input:"#full-search"},$(b.Option.input).keyup(function(){$.trim($(this).val()).length>0?($(".full-quick-result").hasClass("hide")&&($(".full-quick-result").removeClass("hide"),$(".full-quick-result").fadeIn(200)),$(".full-quick-result").fadeIn(200),b.AjaxRequest($(this).val())):($(".full-quick-result").fadeOut(200),$(".full-quick-result").addClass("hide"))})):(this.Option={url:"/search/index/",container:".quick-result",input:"#search"},$(b.Option.input).keyup(function(){$.trim($(this).val()).length>0?($(".quick-result").hasClass("hide")&&($(".quick-result").removeClass("hide"),$(".quick-result").fadeIn(200)),$(".quick-result").fadeIn(200),b.AjaxRequest($(this).val())):($(".quick-result").fadeOut(200),$(".quick-result").addClass("hide"))})),this.AjaxRequest=function(a){$.ajax({url:b.Option.url,data:{q:a,ajax:!0},success:function(a){b.AjaxSuccess(a)}})},this.AjaxSuccess=function(a){$(b.Option.container).html(a)}}function QuickSearchEnter(a){var b=this;"full"==a?this.Option={input:"#full-search",form:"#form_full_search"}:this.Option={input:"#search",form:"#form_search"};var c=document.querySelector(b.Option.input);c.addEventListener("keypress",function(a){if(13===a.keyCode){var c=$.trim($(b.Option.input).val());if(c.length>0){var d=document.querySelector(b.Option.form),e="/search/show/input/"+c;d.setAttribute("action",e),d.submit()}}})}!function(a){"use strict";var b=a.jCarousel={};b.version="0.3.3";var c=/^([+\-]=)?(.+)$/;b.parseTarget=function(a){var b=!1,d="object"!=typeof a?c.exec(a):null;return d?(a=parseInt(d[2],10)||0,d[1]&&(b=!0,"-="===d[1]&&(a*=-1))):"object"!=typeof a&&(a=parseInt(a,10)||0),{target:a,relative:b}},b.detectCarousel=function(a){for(var b;a.length>0;){if(b=a.filter("[data-jcarousel]"),b.length>0)return b;if(b=a.find("[data-jcarousel]"),b.length>0)return b;a=a.parent()}return null},b.base=function(c){return{version:b.version,_options:{},_element:null,_carousel:null,_init:a.noop,_create:a.noop,_destroy:a.noop,_reload:a.noop,create:function(){return this._element.attr("data-"+c.toLowerCase(),!0).data(c,this),!1===this._trigger("create")?this:(this._create(),this._trigger("createend"),this)},destroy:function(){return!1===this._trigger("destroy")?this:(this._destroy(),this._trigger("destroyend"),this._element.removeData(c).removeAttr("data-"+c.toLowerCase()),this)},reload:function(a){return!1===this._trigger("reload")?this:(a&&this.options(a),this._reload(),this._trigger("reloadend"),this)},element:function(){return this._element},options:function(b,c){if(0===arguments.length)return a.extend({},this._options);if("string"==typeof b){if("undefined"==typeof c)return"undefined"==typeof this._options[b]?null:this._options[b];this._options[b]=c}else this._options=a.extend({},this._options,b);return this},carousel:function(){return this._carousel||(this._carousel=b.detectCarousel(this.options("carousel")||this._element),this._carousel||a.error('Could not detect carousel for plugin "'+c+'"')),this._carousel},_trigger:function(b,d,e){var f,g=!1;return e=[this].concat(e||[]),(d||this._element).each(function(){f=a.Event((c+":"+b).toLowerCase()),a(this).trigger(f,e),f.isDefaultPrevented()&&(g=!0)}),!g}}},b.plugin=function(c,d){var e=a[c]=function(b,c){this._element=a(b),this.options(c),this._init(),this.create()};return e.fn=e.prototype=a.extend({},b.base(c),d),a.fn[c]=function(b){var d=Array.prototype.slice.call(arguments,1),f=this;return"string"==typeof b?this.each(function(){var e=a(this).data(c);if(!e)return a.error("Cannot call methods on "+c+' prior to initialization; attempted to call method "'+b+'"');if(!a.isFunction(e[b])||"_"===b.charAt(0))return a.error('No such method "'+b+'" for '+c+" instance");var g=e[b].apply(e,d);return g!==e&&"undefined"!=typeof g?(f=g,!1):void 0}):this.each(function(){var d=a(this).data(c);d instanceof e?d.reload(b):new e(this,b)}),f},e}}(jQuery),function(a,b){"use strict";var c=function(a){return parseFloat(a)||0};a.jCarousel.plugin("jcarousel",{animating:!1,tail:0,inTail:!1,resizeTimer:null,lt:null,vertical:!1,rtl:!1,circular:!1,underflow:!1,relative:!1,_options:{list:function(){return this.element().children().eq(0)},items:function(){return this.list().children()},animation:400,transitions:!1,wrap:null,vertical:null,rtl:null,center:!1},_list:null,_items:null,_target:a(),_first:a(),_last:a(),_visible:a(),_fullyvisible:a(),_init:function(){var a=this;return this.onWindowResize=function(){a.resizeTimer&&clearTimeout(a.resizeTimer),a.resizeTimer=setTimeout(function(){a.reload()},100)},this},_create:function(){this._reload(),a(b).on("resize.jcarousel",this.onWindowResize)},_destroy:function(){a(b).off("resize.jcarousel",this.onWindowResize)},_reload:function(){this.vertical=this.options("vertical"),null==this.vertical&&(this.vertical=this.list().height()>this.list().width()),this.rtl=this.options("rtl"),null==this.rtl&&(this.rtl=function(b){if("rtl"===(""+b.attr("dir")).toLowerCase())return!0;var c=!1;return b.parents("[dir]").each(function(){return/rtl/i.test(a(this).attr("dir"))?(c=!0,!1):void 0}),c}(this._element)),this.lt=this.vertical?"top":"left",this.relative="relative"===this.list().css("position"),this._list=null,this._items=null;var b=this.index(this._target)>=0?this._target:this.closest();this.circular="circular"===this.options("wrap"),this.underflow=!1;var c={left:0,top:0};return b.length>0&&(this._prepare(b),this.list().find("[data-jcarousel-clone]").remove(),this._items=null,this.underflow=this._fullyvisible.length>=this.items().length,this.circular=this.circular&&!this.underflow,c[this.lt]=this._position(b)+"px"),this.move(c),this},list:function(){if(null===this._list){var b=this.options("list");this._list=a.isFunction(b)?b.call(this):this._element.find(b)}return this._list},items:function(){if(null===this._items){var b=this.options("items");this._items=(a.isFunction(b)?b.call(this):this.list().find(b)).not("[data-jcarousel-clone]")}return this._items},index:function(a){return this.items().index(a)},closest:function(){var b,d=this,e=this.list().position()[this.lt],f=a(),g=!1,h=this.vertical?"bottom":this.rtl&&!this.relative?"left":"right";return this.rtl&&this.relative&&!this.vertical&&(e+=this.list().width()-this.clipping()),this.items().each(function(){if(f=a(this),g)return!1;var i=d.dimension(f);if(e+=i,e>=0){if(b=i-c(f.css("margin-"+h)),!(Math.abs(e)-i+b/2<=0))return!1;g=!0}}),f},target:function(){return this._target},first:function(){return this._first},last:function(){return this._last},visible:function(){return this._visible},fullyvisible:function(){return this._fullyvisible},hasNext:function(){if(!1===this._trigger("hasnext"))return!0;var a=this.options("wrap"),b=this.items().length-1,c=this.options("center")?this._target:this._last;return b>=0&&!this.underflow&&(a&&"first"!==a||this.index(c)<b||this.tail&&!this.inTail)?!0:!1},hasPrev:function(){if(!1===this._trigger("hasprev"))return!0;var a=this.options("wrap");return this.items().length>0&&!this.underflow&&(a&&"last"!==a||this.index(this._first)>0||this.tail&&this.inTail)?!0:!1},clipping:function(){return this._element["inner"+(this.vertical?"Height":"Width")]()},dimension:function(a){return a["outer"+(this.vertical?"Height":"Width")](!0)},scroll:function(b,c,d){if(this.animating)return this;if(!1===this._trigger("scroll",null,[b,c]))return this;a.isFunction(c)&&(d=c,c=!0);var e=a.jCarousel.parseTarget(b);if(e.relative){var f,g,h,i,j,k,l,m,n=this.items().length-1,o=Math.abs(e.target),p=this.options("wrap");if(e.target>0){var q=this.index(this._last);if(q>=n&&this.tail)this.inTail?"both"===p||"last"===p?this._scroll(0,c,d):a.isFunction(d)&&d.call(this,!1):this._scrollTail(c,d);else if(f=this.index(this._target),this.underflow&&f===n&&("circular"===p||"both"===p||"last"===p)||!this.underflow&&q===n&&("both"===p||"last"===p))this._scroll(0,c,d);else if(h=f+o,this.circular&&h>n){for(m=n,j=this.items().get(-1);m++<h;)j=this.items().eq(0),k=this._visible.index(j)>=0,k&&j.after(j.clone(!0).attr("data-jcarousel-clone",!0)),this.list().append(j),k||(l={},l[this.lt]=this.dimension(j),this.moveBy(l)),this._items=null;this._scroll(j,c,d)}else this._scroll(Math.min(h,n),c,d)}else if(this.inTail)this._scroll(Math.max(this.index(this._first)-o+1,0),c,d);else if(g=this.index(this._first),f=this.index(this._target),i=this.underflow?f:g,h=i-o,0>=i&&(this.underflow&&"circular"===p||"both"===p||"first"===p))this._scroll(n,c,d);else if(this.circular&&0>h){for(m=h,j=this.items().get(0);m++<0;){j=this.items().eq(-1),k=this._visible.index(j)>=0,k&&j.after(j.clone(!0).attr("data-jcarousel-clone",!0)),this.list().prepend(j),this._items=null;var r=this.dimension(j);l={},l[this.lt]=-r,this.moveBy(l)}this._scroll(j,c,d)}else this._scroll(Math.max(h,0),c,d)}else this._scroll(e.target,c,d);return this._trigger("scrollend"),this},moveBy:function(a,b){var d=this.list().position(),e=1,f=0;return this.rtl&&!this.vertical&&(e=-1,this.relative&&(f=this.list().width()-this.clipping())),a.left&&(a.left=d.left+f+c(a.left)*e+"px"),a.top&&(a.top=d.top+f+c(a.top)*e+"px"),this.move(a,b)},move:function(b,c){c=c||{};var d=this.options("transitions"),e=!!d,f=!!d.transforms,g=!!d.transforms3d,h=c.duration||0,i=this.list();if(!e&&h>0)return void i.animate(b,c);var j=c.complete||a.noop,k={};if(e){var l={transitionDuration:i.css("transitionDuration"),transitionTimingFunction:i.css("transitionTimingFunction"),transitionProperty:i.css("transitionProperty")},m=j;j=function(){a(this).css(l),m.call(this)},k={transitionDuration:(h>0?h/1e3:0)+"s",transitionTimingFunction:d.easing||c.easing,transitionProperty:h>0?function(){return f||g?"all":b.left?"left":"top"}():"none",transform:"none"}}g?k.transform="translate3d("+(b.left||0)+","+(b.top||0)+",0)":f?k.transform="translate("+(b.left||0)+","+(b.top||0)+")":a.extend(k,b),e&&h>0&&i.one("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",j),i.css(k),0>=h&&i.each(function(){j.call(this)})},_scroll:function(b,c,d){if(this.animating)return a.isFunction(d)&&d.call(this,!1),this;if("object"!=typeof b?b=this.items().eq(b):"undefined"==typeof b.jquery&&(b=a(b)),0===b.length)return a.isFunction(d)&&d.call(this,!1),this;this.inTail=!1,this._prepare(b);var e=this._position(b),f=this.list().position()[this.lt];if(e===f)return a.isFunction(d)&&d.call(this,!1),this;var g={};return g[this.lt]=e+"px",this._animate(g,c,d),this},_scrollTail:function(b,c){if(this.animating||!this.tail)return a.isFunction(c)&&c.call(this,!1),this;var d=this.list().position()[this.lt];this.rtl&&this.relative&&!this.vertical&&(d+=this.list().width()-this.clipping()),this.rtl&&!this.vertical?d+=this.tail:d-=this.tail,this.inTail=!0;var e={};return e[this.lt]=d+"px",this._update({target:this._target.next(),fullyvisible:this._fullyvisible.slice(1).add(this._visible.last())}),this._animate(e,b,c),this},_animate:function(b,c,d){if(d=d||a.noop,!1===this._trigger("animate"))return d.call(this,!1),this;this.animating=!0;var e=this.options("animation"),f=a.proxy(function(){this.animating=!1;var a=this.list().find("[data-jcarousel-clone]");a.length>0&&(a.remove(),this._reload()),this._trigger("animateend"),d.call(this,!0)},this),g="object"==typeof e?a.extend({},e):{duration:e},h=g.complete||a.noop;return c===!1?g.duration=0:"undefined"!=typeof a.fx.speeds[g.duration]&&(g.duration=a.fx.speeds[g.duration]),g.complete=function(){f(),h.call(this)},this.move(b,g),this},_prepare:function(b){var d,e,f,g,h=this.index(b),i=h,j=this.dimension(b),k=this.clipping(),l=this.vertical?"bottom":this.rtl?"left":"right",m=this.options("center"),n={target:b,first:b,last:b,visible:b,fullyvisible:k>=j?b:a()};if(m&&(j/=2,k/=2),k>j)for(;;){if(d=this.items().eq(++i),0===d.length){if(!this.circular)break;if(d=this.items().eq(0),b.get(0)===d.get(0))break;if(e=this._visible.index(d)>=0,e&&d.after(d.clone(!0).attr("data-jcarousel-clone",!0)),this.list().append(d),!e){var o={};o[this.lt]=this.dimension(d),this.moveBy(o)}this._items=null}if(g=this.dimension(d),0===g)break;if(j+=g,n.last=d,n.visible=n.visible.add(d),f=c(d.css("margin-"+l)),k>=j-f&&(n.fullyvisible=n.fullyvisible.add(d)),j>=k)break}if(!this.circular&&!m&&k>j)for(i=h;;){if(--i<0)break;if(d=this.items().eq(i),0===d.length)break;if(g=this.dimension(d),0===g)break;if(j+=g,n.first=d,n.visible=n.visible.add(d),f=c(d.css("margin-"+l)),k>=j-f&&(n.fullyvisible=n.fullyvisible.add(d)),j>=k)break}return this._update(n),this.tail=0,m||"circular"===this.options("wrap")||"custom"===this.options("wrap")||this.index(n.last)!==this.items().length-1||(j-=c(n.last.css("margin-"+l)),j>k&&(this.tail=j-k)),this},_position:function(a){var b=this._first,c=b.position()[this.lt],d=this.options("center"),e=d?this.clipping()/2-this.dimension(b)/2:0;return this.rtl&&!this.vertical?(c-=this.relative?this.list().width()-this.dimension(b):this.clipping()-this.dimension(b),c+=e):c-=e,!d&&(this.index(a)>this.index(b)||this.inTail)&&this.tail?(c=this.rtl&&!this.vertical?c-this.tail:c+this.tail,this.inTail=!0):this.inTail=!1,-c},_update:function(b){var c,d=this,e={target:this._target,first:this._first,last:this._last,visible:this._visible,fullyvisible:this._fullyvisible},f=this.index(b.first||e.first)<this.index(e.first),g=function(c){var g=[],h=[];b[c].each(function(){e[c].index(this)<0&&g.push(this)}),e[c].each(function(){b[c].index(this)<0&&h.push(this)}),f?g=g.reverse():h=h.reverse(),d._trigger(c+"in",a(g)),d._trigger(c+"out",a(h)),d["_"+c]=b[c]};for(c in b)g(c);return this}})}(jQuery,window),function(a){"use strict";a.jcarousel.fn.scrollIntoView=function(b,c,d){var e,f=a.jCarousel.parseTarget(b),g=this.index(this._fullyvisible.first()),h=this.index(this._fullyvisible.last());if(e=f.relative?f.target<0?Math.max(0,g+f.target):h+f.target:"object"!=typeof f.target?f.target:this.index(f.target),g>e)return this.scroll(e,c,d);if(e>=g&&h>=e)return a.isFunction(d)&&d.call(this,!1),this;for(var i,j=this.items(),k=this.clipping(),l=this.vertical?"bottom":this.rtl?"left":"right",m=0;;){if(i=j.eq(e),0===i.length)break;if(m+=this.dimension(i),m>=k){var n=parseFloat(i.css("margin-"+l))||0;m-n!==k&&e++;break}if(0>=e)break;e--}return this.scroll(e,c,d)}}(jQuery),function(a){"use strict";a.jCarousel.plugin("jcarouselControl",{_options:{target:"+=1",event:"click",method:"scroll"},_active:null,_init:function(){this.onDestroy=a.proxy(function(){this._destroy(),this.carousel().one("jcarousel:createend",a.proxy(this._create,this))},this),this.onReload=a.proxy(this._reload,this),this.onEvent=a.proxy(function(b){b.preventDefault();var c=this.options("method");a.isFunction(c)?c.call(this):this.carousel().jcarousel(this.options("method"),this.options("target"))},this)},_create:function(){this.carousel().one("jcarousel:destroy",this.onDestroy).on("jcarousel:reloadend jcarousel:scrollend",this.onReload),this._element.on(this.options("event")+".jcarouselcontrol",this.onEvent),this._reload()},_destroy:function(){this._element.off(".jcarouselcontrol",this.onEvent),this.carousel().off("jcarousel:destroy",this.onDestroy).off("jcarousel:reloadend jcarousel:scrollend",this.onReload)},_reload:function(){var b,c=a.jCarousel.parseTarget(this.options("target")),d=this.carousel();if(c.relative)b=d.jcarousel(c.target>0?"hasNext":"hasPrev");else{var e="object"!=typeof c.target?d.jcarousel("items").eq(c.target):c.target;b=d.jcarousel("target").index(e)>=0}return this._active!==b&&(this._trigger(b?"active":"inactive"),this._active=b),this}})}(jQuery),function(a){"use strict";a.jCarousel.plugin("jcarouselPagination",{_options:{perPage:null,item:function(a){return'<a href="#'+a+'">'+a+"</a>"},event:"click",method:"scroll"},_carouselItems:null,_pages:{},_items:{},_currentPage:null,_init:function(){this.onDestroy=a.proxy(function(){this._destroy(),this.carousel().one("jcarousel:createend",a.proxy(this._create,this))},this),this.onReload=a.proxy(this._reload,this),this.onScroll=a.proxy(this._update,this)},_create:function(){this.carousel().one("jcarousel:destroy",this.onDestroy).on("jcarousel:reloadend",this.onReload).on("jcarousel:scrollend",this.onScroll),this._reload()},_destroy:function(){this._clear(),this.carousel().off("jcarousel:destroy",this.onDestroy).off("jcarousel:reloadend",this.onReload).off("jcarousel:scrollend",this.onScroll),this._carouselItems=null},_reload:function(){var b=this.options("perPage");if(this._pages={},this._items={},a.isFunction(b)&&(b=b.call(this)),null==b)this._pages=this._calculatePages();else for(var c,d=parseInt(b,10)||0,e=this._getCarouselItems(),f=1,g=0;;){if(c=e.eq(g++),0===c.length)break;this._pages[f]?this._pages[f]=this._pages[f].add(c):this._pages[f]=c,g%d===0&&f++}this._clear();var h=this,i=this.carousel().data("jcarousel"),j=this._element,k=this.options("item"),l=this._getCarouselItems().length;a.each(this._pages,function(b,c){var d=h._items[b]=a(k.call(h,b,c));d.on(h.options("event")+".jcarouselpagination",a.proxy(function(){var a=c.eq(0);if(i.circular){var d=i.index(i.target()),e=i.index(a);parseFloat(b)>parseFloat(h._currentPage)?d>e&&(a="+="+(l-d+e)):e>d&&(a="-="+(d+(l-e)))}i[this.options("method")](a)},h)),j.append(d)}),this._update()},_update:function(){var b,c=this.carousel().jcarousel("target");a.each(this._pages,function(a,d){return d.each(function(){return c.is(this)?(b=a,!1):void 0}),b?!1:void 0}),this._currentPage!==b&&(this._trigger("inactive",this._items[this._currentPage]),this._trigger("active",this._items[b])),this._currentPage=b},items:function(){return this._items},reloadCarouselItems:function(){return this._carouselItems=null,this},_clear:function(){this._element.empty(),this._currentPage=null},_calculatePages:function(){for(var a,b,c=this.carousel().data("jcarousel"),d=this._getCarouselItems(),e=c.clipping(),f=0,g=0,h=1,i={};;){if(a=d.eq(g++),0===a.length)break;b=c.dimension(a),f+b>e&&(h++,f=0),f+=b,i[h]?i[h]=i[h].add(a):i[h]=a}return i},_getCarouselItems:function(){return this._carouselItems||(this._carouselItems=this.carousel().jcarousel("items")),this._carouselItems}})}(jQuery),function(a){"use strict";a.jCarousel.plugin("jcarouselAutoscroll",{_options:{target:"+=1",interval:3e3,autostart:!0},_timer:null,_init:function(){this.onDestroy=a.proxy(function(){this._destroy(),this.carousel().one("jcarousel:createend",a.proxy(this._create,this))},this),this.onAnimateEnd=a.proxy(this.start,this)},_create:function(){this.carousel().one("jcarousel:destroy",this.onDestroy),this.options("autostart")&&this.start()},_destroy:function(){this.stop(),this.carousel().off("jcarousel:destroy",this.onDestroy)},start:function(){return this.stop(),this.carousel().one("jcarousel:animateend",this.onAnimateEnd),this._timer=setTimeout(a.proxy(function(){this.carousel().jcarousel("scroll",this.options("target"))},this),this.options("interval")),this},stop:function(){return this._timer&&(this._timer=clearTimeout(this._timer)),this.carousel().off("jcarousel:animateend",this.onAnimateEnd),this}})}(jQuery),function(a,b){function c(a,b,c){var d=a.children(),e=!1;a.empty();for(var g=0,h=d.length;h>g;g++){var i=d.eq(g);if(a.append(i),c&&a.append(c),f(a,b)){i.remove(),e=!0;break}c&&c.detach()}return e}function d(b,c,g,h,i){var j=!1,k="a table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style",l="script, .dotdotdot-keep";return b.contents().detach().each(function(){var m=this,n=a(m);if("undefined"==typeof m||3==m.nodeType&&0==a.trim(m.data).length)return!0;if(n.is(l))b.append(n);else{if(j)return!0;b.append(n),!i||n.is(h.after)||n.find(h.after).length||b[b.is(k)?"after":"append"](i),f(g,h)&&(j=3==m.nodeType?e(n,c,g,h,i):d(n,c,g,h,i),j||(n.detach(),j=!0)),j||i&&i.detach()}}),j}function e(b,c,d,e,h){var k=b[0];if(!k)return!1;var m=j(k),n=-1!==m.indexOf(" ")?" ":"　",o="letter"==e.wrap?"":n,p=m.split(o),q=-1,r=-1,s=0,t=p.length-1;for(e.fallbackToLetter&&0==s&&0==t&&(o="",p=m.split(o),t=p.length-1);t>=s&&(0!=s||0!=t);){var u=Math.floor((s+t)/2);if(u==r)break;r=u,i(k,p.slice(0,r+1).join(o)+e.ellipsis),f(d,e)?(t=r,e.fallbackToLetter&&0==s&&0==t&&(o="",p=p[0].split(o),q=-1,r=-1,s=0,t=p.length-1)):(q=r,s=r)}if(-1==q||1==p.length&&0==p[0].length){var v=b.parent();b.detach();var w=h&&h.closest(v).length?h.length:0;v.contents().length>w?k=l(v.contents().eq(-1-w),c):(k=l(v,c,!0),w||v.detach()),k&&(m=g(j(k),e),i(k,m),w&&h&&a(k).parent().append(h))}else m=g(p.slice(0,q+1).join(o),e),i(k,m);return!0}function f(a,b){return a.innerHeight()>b.maxHeight}function g(b,c){for(;a.inArray(b.slice(-1),c.lastCharacter.remove)>-1;)b=b.slice(0,-1);return a.inArray(b.slice(-1),c.lastCharacter.noEllipsis)<0&&(b+=c.ellipsis),b}function h(a){return{width:a.innerWidth(),height:a.innerHeight()}}function i(a,b){a.innerText?a.innerText=b:a.nodeValue?a.nodeValue=b:a.textContent&&(a.textContent=b)}function j(a){return a.innerText?a.innerText:a.nodeValue?a.nodeValue:a.textContent?a.textContent:""}function k(a){do a=a.previousSibling;while(a&&1!==a.nodeType&&3!==a.nodeType);return a}function l(b,c,d){var e,f=b&&b[0];if(f){if(!d){if(3===f.nodeType)return f;if(a.trim(b.text()))return l(b.contents().last(),c)}for(e=k(f);!e;){if(b=b.parent(),b.is(c)||!b.length)return!1;e=k(b[0])}if(e)return l(a(e),c)}return!1}function m(b,c){return b?"string"==typeof b?(b=a(b,c),b.length?b:!1):b.jquery?b:!1:!1}function n(a){for(var b=a.innerHeight(),c=["paddingTop","paddingBottom"],d=0,e=c.length;e>d;d++){var f=parseInt(a.css(c[d]),10);isNaN(f)&&(f=0),b-=f}return b}if(!a.fn.dotdotdot){a.fn.dotdotdot=function(b){if(0==this.length)return a.fn.dotdotdot.debug('No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){a(this).dotdotdot(b)});var e=this;e.data("dotdotdot")&&e.trigger("destroy.dot"),e.data("dotdotdot-style",e.attr("style")||""),e.css("word-wrap","break-word"),"nowrap"===e.css("white-space")&&e.css("white-space","normal"),e.bind_events=function(){return e.bind("update.dot",function(b,h){b.preventDefault(),b.stopPropagation(),i.maxHeight="number"==typeof i.height?i.height:n(e),i.maxHeight+=i.tolerance,"undefined"!=typeof h&&(("string"==typeof h||"nodeType"in h&&1===h.nodeType)&&(h=a("<div />").append(h).contents()),h instanceof a&&(g=h)),p=e.wrapInner('<div class="dotdotdot" />').children(),p.contents().detach().end().append(g.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var k=!1,l=!1;return j.afterElement&&(k=j.afterElement.clone(!0),k.show(),j.afterElement.detach()),f(p,i)&&(l="children"==i.wrap?c(p,i,k):d(p,e,p,i,k)),p.replaceWith(p.contents()),p=null,a.isFunction(i.callback)&&i.callback.call(e[0],l,g),j.isTruncated=l,l}).bind("isTruncated.dot",function(a,b){return a.preventDefault(),a.stopPropagation(),"function"==typeof b&&b.call(e[0],j.isTruncated),j.isTruncated}).bind("originalContent.dot",function(a,b){return a.preventDefault(),a.stopPropagation(),"function"==typeof b&&b.call(e[0],g),g}).bind("destroy.dot",function(a){a.preventDefault(),a.stopPropagation(),e.unwatch().unbind_events().contents().detach().end().append(g).attr("style",e.data("dotdotdot-style")||"").data("dotdotdot",!1)}),e},e.unbind_events=function(){return e.unbind(".dot"),e},e.watch=function(){if(e.unwatch(),"window"==i.watch){var b=a(window),c=b.width(),d=b.height();b.bind("resize.dot"+j.dotId,function(){c==b.width()&&d==b.height()&&i.windowResizeFix||(c=b.width(),d=b.height(),l&&clearInterval(l),l=setTimeout(function(){e.trigger("update.dot")},100))})}else k=h(e),l=setInterval(function(){if(e.is(":visible")){var a=h(e);(k.width!=a.width||k.height!=a.height)&&(e.trigger("update.dot"),k=a)}},500);return e},e.unwatch=function(){return a(window).unbind("resize.dot"+j.dotId),l&&clearInterval(l),e};var g=e.contents(),i=a.extend(!0,{},a.fn.dotdotdot.defaults,b),j={},k={},l=null,p=null;return i.lastCharacter.remove instanceof Array||(i.lastCharacter.remove=a.fn.dotdotdot.defaultArrays.lastCharacter.remove),i.lastCharacter.noEllipsis instanceof Array||(i.lastCharacter.noEllipsis=a.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),j.afterElement=m(i.after,e),j.isTruncated=!1,j.dotId=o++,e.data("dotdotdot",!0).bind_events().trigger("update.dot"),i.watch&&e.watch(),e},a.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0},a.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","　",",",";",".","!","?"],noEllipsis:[]}},a.fn.dotdotdot.debug=function(a){};var o=1,p=a.fn.html;a.fn.html=function(c){return c!=b&&!a.isFunction(c)&&this.data("dotdotdot")?this.trigger("update",[c]):p.apply(this,arguments)};var q=a.fn.text;a.fn.text=function(c){return c!=b&&!a.isFunction(c)&&this.data("dotdotdot")?(c=a("<div />").text(c).html(),this.trigger("update",[c])):q.apply(this,arguments)}}}(jQuery),function(a){a.fn.dcAccordion=function(b){function c(b,c){var d=a.cookie(b);if(null!=d){var f=d.split(",");a.each(f,function(b,d){var f=a("li:eq("+d+")",c);a("> a",f).addClass(e.classActiveElement);var g=f.parents("li");a("> a",g).addClass(e.classActiveElement)})}}function d(b,c){var d=[];a("li a."+e.classActiveElement,c).each(function(b){var e=a(this).parent("li"),f=a("li",c).index(e);d.push(f)}),a.cookie(b,d,{path:"/"})}var e={classParent:"dcjq-parent",classActiveElement:"active",classArrow:"dcjq-icon",classCount:"dcjq-count",classExpand:"dcjq-current-parent",eventType:"click",hoverDelay:300,menuClose:!0,autoClose:!0,autoExpand:!1,speed:"slow",saveState:!0,disableLink:!0,showCount:!1,cookie:"dcjq-accordion"},b=a.extend(e,b);this.each(function(b){function f(){$arrow='<span class="'+e.classArrow+'"></span>';var b=e.classParent+"-li";a("> ul",m).show(),a("li",m).each(function(){a("> ul",this).length>0&&(a(this).addClass(b),a("> a",this).addClass(e.classParent).append($arrow))}),a("> ul",m).hide(),1==e.showCount&&a("li."+b,m).each(function(){if(1==e.disableLink)var b=parseInt(a("ul a:not(."+e.classParent+")",this).length);else var b=parseInt(a("ul a",this).length);a("> a",this).append(' <span class="'+e.classCount+'">('+b+")</span>")})}function g(){$activeLi=a(this).parent("li"),$parentsLi=$activeLi.parents("li"),$parentsUl=$activeLi.parents("ul"),1==e.autoClose&&k($parentsLi,$parentsUl),a("> ul",$activeLi).is(":visible")?(a("ul",$activeLi).slideUp(e.speed),a("a",$activeLi).removeClass(e.classActiveElement)):(a(this).siblings("ul").slideToggle(e.speed),a("> a",$activeLi).addClass(e.classActiveElement)),1==e.saveState&&d(e.cookie,m)}function h(){}function i(){}function j(){1==e.menuClose&&(a("ul",m).slideUp(e.speed),a("a",m).removeClass(e.classActiveElement),d(e.cookie,m))}function k(b,c){a("ul",m).not(c).slideUp(e.speed),a("a",m).removeClass(e.classActiveElement),a("> a",b).addClass(e.classActiveElement)}function l(){a("ul",m).hide(),$allActiveLi=a("a."+e.classActiveElement,m),$allActiveLi.siblings("ul").show()}var m=this;if(f(),1==e.saveState&&c(e.cookie,m),1==e.autoExpand&&a("li."+e.classExpand+" > a").addClass(e.classActiveElement),l(),"hover"==e.eventType){var n={sensitivity:2,interval:e.hoverDelay,over:g,timeout:e.hoverDelay,out:h};a("li a",m).hoverIntent(n);var o={sensitivity:2,interval:1e3,over:i,timeout:1e3,out:j};a(m).hoverIntent(o),1==e.disableLink&&a("li a",m).click(function(b){a(this).siblings("ul").length>0&&b.preventDefault()})}else a("li a:not(.thumbnail):not(.info):not(.prodInfo)",m).click(function(b){$activeLi=a(this).parent("li"),$parentsLi=$activeLi.parents("li"),$parentsUl=$activeLi.parents("ul"),1==e.disableLink&&a(this).siblings("ul").length>0&&b.preventDefault(),1==e.autoClose&&k($parentsLi,$parentsUl),a(this).hasClass("sub-title")&&a(".sub-title."+e.classActiveElement+" + ul").slideUp(e.speed),a("> ul",$activeLi).is(":visible")?(a("ul",$activeLi).slideUp(e.speed),a("a",$activeLi).removeClass(e.classActiveElement)):(a(this).siblings("ul").slideToggle(e.speed),a("> a",$activeLi).addClass(e.classActiveElement)),1==e.saveState&&d(e.cookie,m)})})}}(jQuery),jQuery.cookie=function(a,b,c){if("undefined"==typeof b){var d=null;if(document.cookie&&""!=document.cookie)for(var e=document.cookie.split(";"),f=0;f<e.length;f++){var g=jQuery.trim(e[f]);if(g.substring(0,a.length+1)==a+"="){d=decodeURIComponent(g.substring(a.length+1));break}}return d}c=c||{},null===b&&(b="",c.expires=-1);var h="";if(c.expires&&("number"==typeof c.expires||c.expires.toUTCString)){var i;"number"==typeof c.expires?(i=new Date,i.setTime(i.getTime()+24*c.expires*60*60*1e3)):i=c.expires,h="; expires="+i.toUTCString()}var j=c.path?"; path="+c.path:"",k=c.domain?"; domain="+c.domain:"",l=c.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(b),h,j,k,l].join("")},function(a){a.fn.easyTooltip=function(b){var c,d={xOffset:10,yOffset:25,tooltipId:"easyTooltip",clickRemove:!1,content:"",useElement:""},b=a.extend(d,b);this.each(function(){var d=a(this).text()+"<br/>"+a(this).attr("title");a(this).hover(function(e){if(c=""!=b.content?b.content:d,c=""!=b.useElement?a("#"+b.useElement).html():c,a(this).attr("title",""),""!=c&&void 0!=c){var f='<div id="'+b.tooltipId+'" class="easytooltip" style="visibility: inherit; border: 0px none; padding: 0px; background-image: none; background-color: transparent; opacity: 0.95"><table border="0" cellpadding="0" style="border-spacing: 0"><tbody><tr><td class="tip-top tip-bg-image" colspan="2" style="background-image: url(/images/tip-darkgray.png)"><span></span></td><td class="tip-right tip-bg-image" rowspan="2" style="background-image: url(/images/tip-darkgray.png)"><span></span></td></tr><tr><td class="tip-left tip-bg-image" rowspan="2" style="background-image: url(/images/tip-darkgray.png)"><span></span></td><td style="widht: 100%"><div class="tip-inner tip-bg-image" style="background-image: url(/images/tip-darkgray.png)">'+c+'</div></td></tr><tr><td class="tip-bottom tip-bg-image" colspan="2" style="background-image: url(/images/tip-darkgray.png)"><span></span></td></tr></tbody></table><div class="tip-arrow tip-arrow-bottom" style="visibility: inherit;"><span></span></div></div>';
a("body").append(f);var f=a("#"+b.tooltipId),g=a("#"+b.tooltipId).height();f.css("position","absolute").css("top",e.pageY-b.yOffset-g+"px").css("left",e.pageX+b.xOffset-35+"px").css("display","none").fadeIn("fast")}},function(){a("#"+b.tooltipId).remove(),a(this).attr("title",d)}),a(this).mousemove(function(c){var d=a("#"+b.tooltipId),e=d.height();d.css("top",c.pageY-b.yOffset-e+"px").css("left",c.pageX+b.xOffset-35+"px")}),b.clickRemove&&a(this).mousedown(function(c){a("#"+b.tooltipId).remove(),a(this).attr("title",d)})})}}(jQuery),function(a){a.fn.hoverIntent=function(b,c){var d={sensitivity:7,interval:100,timeout:0};d=a.extend(d,c?{over:b,out:c}:b);var e,f,g,h,i=function(a){e=a.pageX,f=a.pageY},j=function(b,c){return c.hoverIntent_t=clearTimeout(c.hoverIntent_t),Math.abs(g-e)+Math.abs(h-f)<d.sensitivity?(a(c).unbind("mousemove",i),c.hoverIntent_s=1,d.over.apply(c,[b])):(g=e,h=f,c.hoverIntent_t=setTimeout(function(){j(b,c)},d.interval),void 0)},k=function(a,b){return b.hoverIntent_t=clearTimeout(b.hoverIntent_t),b.hoverIntent_s=0,d.out.apply(b,[a])},l=function(b){for(var c=("mouseover"==b.type?b.fromElement:b.toElement)||b.relatedTarget;c&&c!=this;)try{c=c.parentNode}catch(b){c=this}if(c==this)return!1;var e=jQuery.extend({},b),f=this;f.hoverIntent_t&&(f.hoverIntent_t=clearTimeout(f.hoverIntent_t)),"mouseover"==b.type?(g=e.pageX,h=e.pageY,a(f).bind("mousemove",i),1!=f.hoverIntent_s&&(f.hoverIntent_t=setTimeout(function(){j(e,f)},d.interval))):(a(f).unbind("mousemove",i),1==f.hoverIntent_s&&(f.hoverIntent_t=setTimeout(function(){k(e,f)},d.timeout)))};return this.mouseover(l).mouseout(l)}}(jQuery),function(a){function b(b){var c=b||window.event,d=[].slice.call(arguments,1),e=0,f=0,g=0;return b=a.event.fix(c),b.type="mousewheel",c.wheelDelta&&(e=c.wheelDelta/120),c.detail&&(e=-c.detail/3),g=e,void 0!==c.axis&&c.axis===c.HORIZONTAL_AXIS&&(g=0,f=-1*e),void 0!==c.wheelDeltaY&&(g=c.wheelDeltaY/120),void 0!==c.wheelDeltaX&&(f=-1*c.wheelDeltaX/120),d.unshift(b,e,f,g),(a.event.dispatch||a.event.handle).apply(this,d)}var c=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var d=c.length;d;)a.event.fixHooks[c[--d]]=a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=c.length;a;)this.addEventListener(c[--a],b,!1);else this.onmousewheel=b},teardown:function(){if(this.removeEventListener)for(var a=c.length;a;)this.removeEventListener(c[--a],b,!1);else this.onmousewheel=null}},a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}(jQuery),function(a){var b={init:function(b){var c={set_width:!1,set_height:!1,horizontalScroll:!1,scrollInertia:950,mouseWheel:!0,mouseWheelPixels:"auto",autoDraggerLength:!0,autoHideScrollbar:!1,alwaysShowScrollbar:!1,snapAmount:null,snapOffset:0,scrollButtons:{enable:!1,scrollType:"continuous",scrollSpeed:"auto",scrollAmount:40},advanced:{updateOnBrowserResize:!0,updateOnContentResize:!1,autoExpandHorizontalScroll:!1,autoScrollOnFocus:!0,normalizeMouseWheelDelta:!1},contentTouchScroll:!0,callbacks:{onScrollStart:function(){},onScroll:function(){},onTotalScroll:function(){},onTotalScrollBack:function(){},onTotalScrollOffset:0,onTotalScrollBackOffset:0,whileScrolling:function(){}},theme:"light"},b=a.extend(!0,c,b);return this.each(function(){var c=a(this);if(b.set_width&&c.css("width",b.set_width),b.set_height&&c.css("height",b.set_height),a(document).data("mCustomScrollbar-index")){var d=parseInt(a(document).data("mCustomScrollbar-index"));a(document).data("mCustomScrollbar-index",d+1)}else a(document).data("mCustomScrollbar-index","1");c.wrapInner("<div class='mCustomScrollBox mCS-"+b.theme+"' id='mCSB_"+a(document).data("mCustomScrollbar-index")+"' style='position:relative; height:100%; overflow:hidden; max-width:100%;' />").addClass("mCustomScrollbar _mCS_"+a(document).data("mCustomScrollbar-index"));var e=c.children(".mCustomScrollBox");if(b.horizontalScroll){e.addClass("mCSB_horizontal").wrapInner("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />");var f=e.children(".mCSB_h_wrapper");f.wrapInner("<div class='mCSB_container' style='position:absolute; left:0;' />").children(".mCSB_container").css({width:f.children().outerWidth(),position:"relative"}).unwrap()}else e.wrapInner("<div class='mCSB_container' style='position:relative; top:0;' />");var g=e.children(".mCSB_container");a.support.touch&&g.addClass("mCS_touch"),g.after("<div class='mCSB_scrollTools' style='position:absolute;'><div class='mCSB_draggerContainer'><div class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' style='position:relative;'></div></div><div class='mCSB_draggerRail'></div></div></div>");var h=e.children(".mCSB_scrollTools"),i=h.children(".mCSB_draggerContainer"),j=i.children(".mCSB_dragger");if(b.horizontalScroll?j.data("minDraggerWidth",j.width()):j.data("minDraggerHeight",j.height()),b.scrollButtons.enable&&(b.horizontalScroll?h.prepend("<a class='mCSB_buttonLeft' oncontextmenu='return false;'></a>").append("<a class='mCSB_buttonRight' oncontextmenu='return false;'></a>"):h.prepend("<a class='mCSB_buttonUp' oncontextmenu='return false;'></a>").append("<a class='mCSB_buttonDown' oncontextmenu='return false;'></a>")),e.bind("scroll",function(){c.is(".mCS_disabled")||e.scrollTop(0).scrollLeft(0)}),c.data({mCS_Init:!0,mCustomScrollbarIndex:a(document).data("mCustomScrollbar-index"),horizontalScroll:b.horizontalScroll,scrollInertia:b.scrollInertia,scrollEasing:"mcsEaseOut",mouseWheel:b.mouseWheel,mouseWheelPixels:b.mouseWheelPixels,autoDraggerLength:b.autoDraggerLength,autoHideScrollbar:b.autoHideScrollbar,alwaysShowScrollbar:b.alwaysShowScrollbar,snapAmount:b.snapAmount,snapOffset:b.snapOffset,scrollButtons_enable:b.scrollButtons.enable,scrollButtons_scrollType:b.scrollButtons.scrollType,scrollButtons_scrollSpeed:b.scrollButtons.scrollSpeed,scrollButtons_scrollAmount:b.scrollButtons.scrollAmount,autoExpandHorizontalScroll:b.advanced.autoExpandHorizontalScroll,autoScrollOnFocus:b.advanced.autoScrollOnFocus,normalizeMouseWheelDelta:b.advanced.normalizeMouseWheelDelta,contentTouchScroll:b.contentTouchScroll,onScrollStart_Callback:b.callbacks.onScrollStart,onScroll_Callback:b.callbacks.onScroll,onTotalScroll_Callback:b.callbacks.onTotalScroll,onTotalScrollBack_Callback:b.callbacks.onTotalScrollBack,onTotalScroll_Offset:b.callbacks.onTotalScrollOffset,onTotalScrollBack_Offset:b.callbacks.onTotalScrollBackOffset,whileScrolling_Callback:b.callbacks.whileScrolling,bindEvent_scrollbar_drag:!1,bindEvent_content_touch:!1,bindEvent_scrollbar_click:!1,bindEvent_mousewheel:!1,bindEvent_buttonsContinuous_y:!1,bindEvent_buttonsContinuous_x:!1,bindEvent_buttonsPixels_y:!1,bindEvent_buttonsPixels_x:!1,bindEvent_focusin:!1,bindEvent_autoHideScrollbar:!1,mCSB_buttonScrollRight:!1,mCSB_buttonScrollLeft:!1,mCSB_buttonScrollDown:!1,mCSB_buttonScrollUp:!1}),b.horizontalScroll)"none"!==c.css("max-width")&&(b.advanced.updateOnContentResize||(b.advanced.updateOnContentResize=!0));else if("none"!==c.css("max-height")){var k=!1,l=parseInt(c.css("max-height"));c.css("max-height").indexOf("%")>=0&&(k=l,l=c.parent().height()*k/100),c.css("overflow","hidden"),e.css("max-height",l)}if(c.mCustomScrollbar("update"),b.advanced.updateOnBrowserResize){var m,n=a(window).width(),o=a(window).height();a(window).bind("resize."+c.data("mCustomScrollbarIndex"),function(){m&&clearTimeout(m),m=setTimeout(function(){if(!c.is(".mCS_disabled")&&!c.is(".mCS_destroyed")){var b=a(window).width(),d=a(window).height();(n!==b||o!==d)&&("none"!==c.css("max-height")&&k&&e.css("max-height",c.parent().height()*k/100),c.mCustomScrollbar("update"),n=b,o=d)}},150)})}if(b.advanced.updateOnContentResize){var p;if(b.horizontalScroll)var q=g.outerWidth();else var q=g.outerHeight();p=setInterval(function(){if(b.horizontalScroll){b.advanced.autoExpandHorizontalScroll&&g.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:g.outerWidth(),position:"relative"}).unwrap();var a=g.outerWidth()}else var a=g.outerHeight();a!=q&&(c.mCustomScrollbar("update"),q=a)},300)}})},update:function(){var b=a(this),c=b.children(".mCustomScrollBox"),d=c.children(".mCSB_container");d.removeClass("mCS_no_scrollbar"),b.removeClass("mCS_disabled mCS_destroyed"),c.scrollTop(0).scrollLeft(0);var e=c.children(".mCSB_scrollTools"),f=e.children(".mCSB_draggerContainer"),g=f.children(".mCSB_dragger");if(b.data("horizontalScroll")){var h=e.children(".mCSB_buttonLeft"),i=e.children(".mCSB_buttonRight"),j=c.width();b.data("autoExpandHorizontalScroll")&&d.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:d.outerWidth(),position:"relative"}).unwrap();var k=d.outerWidth()}else var l=e.children(".mCSB_buttonUp"),m=e.children(".mCSB_buttonDown"),n=c.height(),o=d.outerHeight();if(o>n&&!b.data("horizontalScroll")){e.css("display","block");var p=f.height();if(b.data("autoDraggerLength")){var q=Math.round(n/o*p),r=g.data("minDraggerHeight");if(r>=q)g.css({height:r});else if(q>=p-10){var s=p-10;g.css({height:s})}else g.css({height:q});g.children(".mCSB_dragger_bar").css({"line-height":g.height()+"px"})}var t=g.height(),u=(o-n)/(p-t);b.data("scrollAmount",u).mCustomScrollbar("scrolling",c,d,f,g,l,m,h,i);var v=Math.abs(d.position().top);b.mCustomScrollbar("scrollTo",v,{scrollInertia:0,trigger:"internal"})}else if(k>j&&b.data("horizontalScroll")){e.css("display","block");var w=f.width();if(b.data("autoDraggerLength")){var x=Math.round(j/k*w),y=g.data("minDraggerWidth");if(y>=x)g.css({width:y});else if(x>=w-10){var z=w-10;g.css({width:z})}else g.css({width:x})}var A=g.width(),u=(k-j)/(w-A);b.data("scrollAmount",u).mCustomScrollbar("scrolling",c,d,f,g,l,m,h,i);var v=Math.abs(d.position().left);b.mCustomScrollbar("scrollTo",v,{scrollInertia:0,trigger:"internal"})}else c.unbind("mousewheel focusin"),b.data("horizontalScroll")?g.add(d).css("left",0):g.add(d).css("top",0),b.data("alwaysShowScrollbar")?b.data("horizontalScroll")?b.data("horizontalScroll")&&g.css({width:f.width()}):g.css({height:f.height()}):(e.css("display","none"),d.addClass("mCS_no_scrollbar")),b.data({bindEvent_mousewheel:!1,bindEvent_focusin:!1})},scrolling:function(b,d,e,f,g,h,i,j){function k(a,b,c,d){n.data("horizontalScroll")?n.mCustomScrollbar("scrollTo",f.position().left-b+d,{moveDragger:!0,trigger:"internal"}):n.mCustomScrollbar("scrollTo",f.position().top-a+c,{moveDragger:!0,trigger:"internal"})}function l(a){f.data("preventAction")||(f.data("preventAction",!0),n.mCustomScrollbar("scrollTo",a,{trigger:"internal"}))}function m(){var a=n.data("scrollButtons_scrollSpeed");return"auto"===n.data("scrollButtons_scrollSpeed")&&(a=Math.round((n.data("scrollInertia")+100)/40)),a}var n=a(this);if(!n.data("bindEvent_scrollbar_drag")){var o,p,q,r,s;a.support.pointer?(q="pointerdown",r="pointermove",s="pointerup"):a.support.msPointer&&(q="MSPointerDown",r="MSPointerMove",s="MSPointerUp"),a.support.pointer||a.support.msPointer?(f.bind(q,function(b){b.preventDefault(),n.data({on_drag:!0}),f.addClass("mCSB_dragger_onDrag");var c=a(this),d=c.offset(),e=b.originalEvent.pageX-d.left,g=b.originalEvent.pageY-d.top;e<c.width()&&e>0&&g<c.height()&&g>0&&(o=g,p=e)}),a(document).bind(r+"."+n.data("mCustomScrollbarIndex"),function(a){if(a.preventDefault(),n.data("on_drag")){var b=f,c=b.offset(),d=a.originalEvent.pageX-c.left,e=a.originalEvent.pageY-c.top;k(o,p,e,d)}}).bind(s+"."+n.data("mCustomScrollbarIndex"),function(a){n.data({on_drag:!1}),f.removeClass("mCSB_dragger_onDrag")})):(f.bind("mousedown touchstart",function(b){b.preventDefault(),b.stopImmediatePropagation();var c,d,e=a(this),g=e.offset();if("touchstart"===b.type){var h=b.originalEvent.touches[0]||b.originalEvent.changedTouches[0];c=h.pageX-g.left,d=h.pageY-g.top}else n.data({on_drag:!0}),f.addClass("mCSB_dragger_onDrag"),c=b.pageX-g.left,d=b.pageY-g.top;c<e.width()&&c>0&&d<e.height()&&d>0&&(o=d,p=c)}).bind("touchmove",function(b){b.preventDefault(),b.stopImmediatePropagation();var c=b.originalEvent.touches[0]||b.originalEvent.changedTouches[0],d=a(this),e=d.offset(),f=c.pageX-e.left,g=c.pageY-e.top;k(o,p,g,f)}),a(document).bind("mousemove."+n.data("mCustomScrollbarIndex"),function(a){if(n.data("on_drag")){var b=f,c=b.offset(),d=a.pageX-c.left,e=a.pageY-c.top;k(o,p,e,d)}}).bind("mouseup."+n.data("mCustomScrollbarIndex"),function(a){n.data({on_drag:!1}),f.removeClass("mCSB_dragger_onDrag")})),n.data({bindEvent_scrollbar_drag:!0})}if(a.support.touch&&n.data("contentTouchScroll")&&!n.data("bindEvent_content_touch")){var t,u,v,w,x,y,z;d.bind("touchstart",function(b){b.stopImmediatePropagation(),t=b.originalEvent.touches[0]||b.originalEvent.changedTouches[0],u=a(this),v=u.offset(),x=t.pageX-v.left,w=t.pageY-v.top,y=w,z=x}),d.bind("touchmove",function(b){b.preventDefault(),b.stopImmediatePropagation(),t=b.originalEvent.touches[0]||b.originalEvent.changedTouches[0],u=a(this).parent(),v=u.offset(),x=t.pageX-v.left,w=t.pageY-v.top,n.data("horizontalScroll")?n.mCustomScrollbar("scrollTo",z-x,{trigger:"internal"}):n.mCustomScrollbar("scrollTo",y-w,{trigger:"internal"})})}if(n.data("bindEvent_scrollbar_click")||(e.bind("click",function(b){var c=(b.pageY-e.offset().top)*n.data("scrollAmount"),d=a(b.target);n.data("horizontalScroll")&&(c=(b.pageX-e.offset().left)*n.data("scrollAmount")),(d.hasClass("mCSB_draggerContainer")||d.hasClass("mCSB_draggerRail"))&&n.mCustomScrollbar("scrollTo",c,{trigger:"internal",scrollEasing:"draggerRailEase"})}),n.data({bindEvent_scrollbar_click:!0})),n.data("mouseWheel")&&(n.data("bindEvent_mousewheel")||(b.bind("mousewheel",function(a,b){var c,g=n.data("mouseWheelPixels"),h=Math.abs(d.position().top),i=f.position().top,j=e.height()-f.height();n.data("normalizeMouseWheelDelta")&&(b=0>b?-1:1),"auto"===g&&(g=100+Math.round(n.data("scrollAmount")/2)),n.data("horizontalScroll")&&(i=f.position().left,j=e.width()-f.width(),h=Math.abs(d.position().left)),(b>0&&0!==i||0>b&&i!==j)&&(a.preventDefault(),a.stopImmediatePropagation()),c=h-b*g,n.mCustomScrollbar("scrollTo",c,{trigger:"internal"})}),n.data({bindEvent_mousewheel:!0}))),n.data("scrollButtons_enable"))if("pixels"===n.data("scrollButtons_scrollType"))n.data("horizontalScroll")?(j.add(i).unbind("mousedown touchstart MSPointerDown pointerdown mouseup MSPointerUp pointerup mouseout MSPointerOut pointerout touchend",A,B),n.data({bindEvent_buttonsContinuous_x:!1}),n.data("bindEvent_buttonsPixels_x")||(j.bind("click",function(a){a.preventDefault(),l(Math.abs(d.position().left)+n.data("scrollButtons_scrollAmount"))}),i.bind("click",function(a){a.preventDefault(),l(Math.abs(d.position().left)-n.data("scrollButtons_scrollAmount"))}),n.data({bindEvent_buttonsPixels_x:!0}))):(h.add(g).unbind("mousedown touchstart MSPointerDown pointerdown mouseup MSPointerUp pointerup mouseout MSPointerOut pointerout touchend",A,B),n.data({bindEvent_buttonsContinuous_y:!1}),n.data("bindEvent_buttonsPixels_y")||(h.bind("click",function(a){a.preventDefault(),l(Math.abs(d.position().top)+n.data("scrollButtons_scrollAmount"))}),g.bind("click",function(a){a.preventDefault(),l(Math.abs(d.position().top)-n.data("scrollButtons_scrollAmount"))}),n.data({bindEvent_buttonsPixels_y:!0})));else if(n.data("horizontalScroll")){if(j.add(i).unbind("click"),n.data({bindEvent_buttonsPixels_x:!1}),!n.data("bindEvent_buttonsContinuous_x")){j.bind("mousedown touchstart MSPointerDown pointerdown",function(a){a.preventDefault();var b=m();n.data({mCSB_buttonScrollRight:setInterval(function(){n.mCustomScrollbar("scrollTo",Math.abs(d.position().left)+b,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})});var A=function(a){a.preventDefault(),clearInterval(n.data("mCSB_buttonScrollRight"))};j.bind("mouseup touchend MSPointerUp pointerup mouseout MSPointerOut pointerout",A),i.bind("mousedown touchstart MSPointerDown pointerdown",function(a){a.preventDefault();var b=m();n.data({mCSB_buttonScrollLeft:setInterval(function(){n.mCustomScrollbar("scrollTo",Math.abs(d.position().left)-b,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})});var B=function(a){a.preventDefault(),clearInterval(n.data("mCSB_buttonScrollLeft"))};i.bind("mouseup touchend MSPointerUp pointerup mouseout MSPointerOut pointerout",B),n.data({bindEvent_buttonsContinuous_x:!0})}}else if(h.add(g).unbind("click"),n.data({bindEvent_buttonsPixels_y:!1}),!n.data("bindEvent_buttonsContinuous_y")){h.bind("mousedown touchstart MSPointerDown pointerdown",function(a){a.preventDefault();var b=m();n.data({mCSB_buttonScrollDown:setInterval(function(){n.mCustomScrollbar("scrollTo",Math.abs(d.position().top)+b,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})});var C=function(a){a.preventDefault(),clearInterval(n.data("mCSB_buttonScrollDown"))};h.bind("mouseup touchend MSPointerUp pointerup mouseout MSPointerOut pointerout",C),g.bind("mousedown touchstart MSPointerDown pointerdown",function(a){a.preventDefault();var b=m();n.data({mCSB_buttonScrollUp:setInterval(function(){n.mCustomScrollbar("scrollTo",Math.abs(d.position().top)-b,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})});var D=function(a){a.preventDefault(),clearInterval(n.data("mCSB_buttonScrollUp"))};g.bind("mouseup touchend MSPointerUp pointerup mouseout MSPointerOut pointerout",D),n.data({bindEvent_buttonsContinuous_y:!0})}n.data("autoScrollOnFocus")&&(n.data("bindEvent_focusin")||(b.bind("focusin",function(){b.scrollTop(0).scrollLeft(0);var c=a(document.activeElement);if(c.is("input,textarea,select,button,a[tabindex],area,object")){var e=d.position().top,f=c.position().top,g=b.height()-c.outerHeight();n.data("horizontalScroll")&&(e=d.position().left,f=c.position().left,g=b.width()-c.outerWidth()),(0>e+f||e+f>g)&&n.mCustomScrollbar("scrollTo",f,{trigger:"internal"})}}),n.data({bindEvent_focusin:!0}))),n.data("autoHideScrollbar")&&!n.data("alwaysShowScrollbar")&&(n.data("bindEvent_autoHideScrollbar")||(b.bind("mouseenter",function(a){b.addClass("mCS-mouse-over"),c.showScrollbar.call(b.children(".mCSB_scrollTools"))}).bind("mouseleave touchend",function(a){b.removeClass("mCS-mouse-over"),"mouseleave"===a.type&&c.hideScrollbar.call(b.children(".mCSB_scrollTools"))}),n.data({bindEvent_autoHideScrollbar:!0})))},scrollTo:function(b,d){function e(a){if(k.data("mCustomScrollbarIndex"))switch(this.mcs={top:n.position().top,left:n.position().left,draggerTop:q.position().top,draggerLeft:q.position().left,topPct:Math.round(100*Math.abs(n.position().top)/Math.abs(n.outerHeight()-m.height())),leftPct:Math.round(100*Math.abs(n.position().left)/Math.abs(n.outerWidth()-m.width()))},a){case"onScrollStart":k.data("mCS_tweenRunning",!0).data("onScrollStart_Callback").call(k,this.mcs);break;case"whileScrolling":k.data("whileScrolling_Callback").call(k,this.mcs);break;case"onScroll":k.data("onScroll_Callback").call(k,this.mcs);break;case"onTotalScrollBack":k.data("onTotalScrollBack_Callback").call(k,this.mcs);break;case"onTotalScroll":k.data("onTotalScroll_Callback").call(k,this.mcs)}}var f,g,h,i,j,k=a(this),l={moveDragger:!1,trigger:"external",callbacks:!0,scrollInertia:k.data("scrollInertia"),scrollEasing:k.data("scrollEasing")},d=a.extend(l,d),m=k.children(".mCustomScrollBox"),n=m.children(".mCSB_container"),o=m.children(".mCSB_scrollTools"),p=o.children(".mCSB_draggerContainer"),q=p.children(".mCSB_dragger"),r=draggerSpeed=d.scrollInertia;if(!n.hasClass("mCS_no_scrollbar")&&(k.data({mCS_trigger:d.trigger}),k.data("mCS_Init")&&(d.callbacks=!1),b||0===b)){if("number"==typeof b)d.moveDragger?(f=b,b=k.data("horizontalScroll")?q.position().left*k.data("scrollAmount"):q.position().top*k.data("scrollAmount"),draggerSpeed=0):f=b/k.data("scrollAmount");else if("string"==typeof b){var s;s="top"===b?0:"bottom"!==b||k.data("horizontalScroll")?"left"===b?0:"right"===b&&k.data("horizontalScroll")?n.outerWidth()-m.width():"first"===b?k.find(".mCSB_container").find(":first"):"last"===b?k.find(".mCSB_container").find(":last"):k.find(b):n.outerHeight()-m.height(),1===s.length?(b=k.data("horizontalScroll")?s.position().left:s.position().top,f=b/k.data("scrollAmount")):f=b=s}if(k.data("horizontalScroll")){k.data("onTotalScrollBack_Offset")&&(h=-k.data("onTotalScrollBack_Offset")),k.data("onTotalScroll_Offset")&&(j=m.width()-n.outerWidth()+k.data("onTotalScroll_Offset")),0>f?(f=b=0,clearInterval(k.data("mCSB_buttonScrollLeft")),h||(g=!0)):f>=p.width()-q.width()?(f=p.width()-q.width(),b=m.width()-n.outerWidth(),clearInterval(k.data("mCSB_buttonScrollRight")),j||(i=!0)):b=-b;var t=k.data("snapAmount");t&&(b=Math.round(b/t)*t-k.data("snapOffset")),c.mTweenAxis.call(this,q[0],"left",Math.round(f),draggerSpeed,d.scrollEasing),c.mTweenAxis.call(this,n[0],"left",Math.round(b),r,d.scrollEasing,{onStart:function(){d.callbacks&&!k.data("mCS_tweenRunning")&&e("onScrollStart"),k.data("autoHideScrollbar")&&!k.data("alwaysShowScrollbar")&&c.showScrollbar.call(o)},onUpdate:function(){d.callbacks&&e("whileScrolling")},onComplete:function(){d.callbacks&&(e("onScroll"),(g||h&&n.position().left>=h)&&e("onTotalScrollBack"),(i||j&&n.position().left<=j)&&e("onTotalScroll")),q.data("preventAction",!1),k.data("mCS_tweenRunning",!1),k.data("autoHideScrollbar")&&!k.data("alwaysShowScrollbar")&&(m.hasClass("mCS-mouse-over")||c.hideScrollbar.call(o))}})}else{k.data("onTotalScrollBack_Offset")&&(h=-k.data("onTotalScrollBack_Offset")),k.data("onTotalScroll_Offset")&&(j=m.height()-n.outerHeight()+k.data("onTotalScroll_Offset")),0>f?(f=b=0,clearInterval(k.data("mCSB_buttonScrollUp")),h||(g=!0)):f>=p.height()-q.height()?(f=p.height()-q.height(),b=m.height()-n.outerHeight(),clearInterval(k.data("mCSB_buttonScrollDown")),j||(i=!0)):b=-b;var t=k.data("snapAmount");t&&(b=Math.round(b/t)*t-k.data("snapOffset")),c.mTweenAxis.call(this,q[0],"top",Math.round(f),draggerSpeed,d.scrollEasing),c.mTweenAxis.call(this,n[0],"top",Math.round(b),r,d.scrollEasing,{onStart:function(){d.callbacks&&!k.data("mCS_tweenRunning")&&e("onScrollStart"),k.data("autoHideScrollbar")&&!k.data("alwaysShowScrollbar")&&c.showScrollbar.call(o)},onUpdate:function(){d.callbacks&&e("whileScrolling")},onComplete:function(){d.callbacks&&(e("onScroll"),(g||h&&n.position().top>=h)&&e("onTotalScrollBack"),(i||j&&n.position().top<=j)&&e("onTotalScroll")),q.data("preventAction",!1),k.data("mCS_tweenRunning",!1),k.data("autoHideScrollbar")&&!k.data("alwaysShowScrollbar")&&(m.hasClass("mCS-mouse-over")||c.hideScrollbar.call(o))}})}k.data("mCS_Init")&&k.data({mCS_Init:!1})}},stop:function(){var b=a(this),d=b.children().children(".mCSB_container"),e=b.children().children().children().children(".mCSB_dragger");c.mTweenAxisStop.call(this,d[0]),c.mTweenAxisStop.call(this,e[0])},disable:function(b){var c=a(this),d=c.children(".mCustomScrollBox"),e=d.children(".mCSB_container"),f=d.children(".mCSB_scrollTools"),g=f.children().children(".mCSB_dragger");d.unbind("mousewheel focusin mouseenter mouseleave touchend"),e.unbind("touchstart touchmove"),b&&(c.data("horizontalScroll")?g.add(e).css("left",0):g.add(e).css("top",0)),f.css("display","none"),e.addClass("mCS_no_scrollbar"),c.data({bindEvent_mousewheel:!1,bindEvent_focusin:!1,bindEvent_content_touch:!1,bindEvent_autoHideScrollbar:!1}).addClass("mCS_disabled")},destroy:function(){var b=a(this);b.removeClass("mCustomScrollbar _mCS_"+b.data("mCustomScrollbarIndex")).addClass("mCS_destroyed").children().children(".mCSB_container").unwrap().children().unwrap().siblings(".mCSB_scrollTools").remove(),a(document).unbind("mousemove."+b.data("mCustomScrollbarIndex")+" mouseup."+b.data("mCustomScrollbarIndex")+" MSPointerMove."+b.data("mCustomScrollbarIndex")+" MSPointerUp."+b.data("mCustomScrollbarIndex")),a(window).unbind("resize."+b.data("mCustomScrollbarIndex"))}},c={showScrollbar:function(){this.stop().animate({opacity:1},"fast")},hideScrollbar:function(){this.stop().animate({opacity:0},"fast")},mTweenAxis:function(a,b,c,d,e,f){function g(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()}function h(){r||n.call(),r=g()-q,i(),r>=a._time&&(a._time=r>a._time?r+m-(r-a._time):r+m-1,a._time<r+1&&(a._time=r+1)),a._time<d?a._id=_request(h):p.call()}function i(){d>0?(a.currVal=l(a._time,s,u,d,e),t[b]=Math.round(a.currVal)+"px"):t[b]=c+"px",o.call()}function j(){m=1e3/60,a._time=r+m,_request=window.requestAnimationFrame?window.requestAnimationFrame:function(a){return i(),setTimeout(a,.01)},a._id=_request(h)}function k(){null!=a._id&&(window.requestAnimationFrame?window.cancelAnimationFrame(a._id):clearTimeout(a._id),a._id=null)}function l(a,b,c,d,e){switch(e){case"linear":return c*a/d+b;case"easeOutQuad":return a/=d,-c*a*(a-2)+b;case"easeInOutQuad":return a/=d/2,1>a?c/2*a*a+b:(a--,-c/2*(a*(a-2)-1)+b);case"easeOutCubic":return a/=d,a--,c*(a*a*a+1)+b;case"easeOutQuart":return a/=d,a--,-c*(a*a*a*a-1)+b;case"easeOutQuint":return a/=d,a--,c*(a*a*a*a*a+1)+b;case"easeOutCirc":return a/=d,a--,c*Math.sqrt(1-a*a)+b;case"easeOutSine":return c*Math.sin(a/d*(Math.PI/2))+b;case"easeOutExpo":return c*(-Math.pow(2,-10*a/d)+1)+b;case"mcsEaseOut":var f=(a/=d)*a,g=f*a;return b+c*(.499999999999997*g*f+-2.5*f*f+5.5*g+-6.5*f+4*a);case"draggerRailEase":return a/=d/2,1>a?c/2*a*a*a+b:(a-=2,c/2*(a*a*a+2)+b)}}var m,f=f||{},n=f.onStart||function(){},o=f.onUpdate||function(){},p=f.onComplete||function(){},q=g(),r=0,s=a.offsetTop,t=a.style;"left"===b&&(s=a.offsetLeft);var u=c-s;k(),j()},mTweenAxisStop:function(a){null!=a._id&&(window.requestAnimationFrame?window.cancelAnimationFrame(a._id):clearTimeout(a._id),a._id=null)},rafPolyfill:function(){for(var a=["ms","moz","webkit","o"],b=a.length;--b>-1&&!window.requestAnimationFrame;)window.requestAnimationFrame=window[a[b]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[a[b]+"CancelAnimationFrame"]||window[a[b]+"CancelRequestAnimationFrame"]}};c.rafPolyfill.call(),a.support.touch=!!("ontouchstart"in window),a.support.pointer=window.navigator.pointerEnabled,a.support.msPointer=window.navigator.msPointerEnabled;var d="https:"==document.location.protocol?"https:":"http:";a.event.special.mousewheel||document.write('<script src="'+d+'//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.0.6/jquery.mousewheel.min.js"></script>'),a.fn.mCustomScrollbar=function(c){return b[c]?b[c].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof c&&c?void a.error("Method "+c+" does not exist"):b.init.apply(this,arguments)}}(jQuery),eval(function(a,b,c,d,e,f){if(e=function(a){return(b>a?"":e(parseInt(a/b)))+((a%=b)>35?String.fromCharCode(a+29):a.toString(36))},!"".replace(/^/,String)){for(;c--;)f[e(c)]=d[c]||e(c);d=[function(a){return f[a]}],e=function(){return"\\w+"},c=1}for(;c--;)d[c]&&(a=a.replace(new RegExp("\\b"+e(c)+"\\b","g"),d[c]));return a}("(C($){8($.1r.1v){G}$.1r.6p=$.1r.1v=C(u,w){8(1k.S==0){18(I,'6q 54 7P 1j \"'+1k.4l+'\".');G 1k}8(1k.S>1){G 1k.1W(C(){$(1k).1v(u,w)})}E y=1k,$13=1k[0],55=K;8(y.1m('56')){55=y.1Q('3o','4m');y.R('3o',['4n',I])}y.57=C(o,a,b){o=3R($13,o);o.D=6r($13,o.D);o.1M=6s($13,o.1M);o.M=6t($13,o.M);o.V=59($13,o.V);o.Y=59($13,o.Y);o.1a=6u($13,o.1a);o.1q=6v($13,o.1q);o.1h=6w($13,o.1h);8(a){31=$.1N(I,{},$.1r.1v.5a,o)}7=$.1N(I,{},$.1r.1v.5a,o);7.d=6x(7);z.2b=(7.2b=='4o'||7.2b=='1n')?'Y':'V';E c=y.14(),2w=5b($1s,7,'N');8(3p(7.25)){7.25='7Q'+F.3S}7.4p=5c(7,2w);7.D=6y(7.D,7,c,b);7[7.d['N']]=6z(7[7.d['N']],7,c);7[7.d['1d']]=6A(7[7.d['1d']],7,c);8(7.2m){8(!3T(7[7.d['N']])){7[7.d['N']]='2J%'}}8(3T(7[7.d['N']])){z.6B=I;z.4q=7[7.d['N']];7[7.d['N']]=4r(2w,z.4q);8(!7.D.L){7.D.T.1c=I}}8(7.2m){7.1R=K;7.1i=[0,0,0,0];7.1A=K;7.D.T.1c=K}O{8(!7.D.L){7=6C(7,2w)}8(!7[7.d['N']]){8(!7.D.T.1c&&Z(7.D[7.d['N']])&&7.D.1t=='*'){7[7.d['N']]=7.D.L*7.D[7.d['N']];7.1A=K}O{7[7.d['N']]='1c'}}8(1G(7.1A)){7.1A=(Z(7[7.d['N']]))?'5d':K}8(7.D.T.1c){7.D.L=32(c,7,0)}}8(7.D.1t!='*'&&!7.D.T.1c){7.D.T.4s=7.D.L;7.D.L=3U(c,7,0)}7.D.L=2x(7.D.L,7,7.D.T.2c,$13);7.D.T.1Z=7.D.L;8(7.2m){8(!7.D.T.34){7.D.T.34=7.D.L}8(!7.D.T.1X){7.D.T.1X=7.D.L}7=5e(7,c,2w)}O{7.1i=6D(7.1i);8(7.1A=='3q'){7.1A='1n'}O 8(7.1A=='5f'){7.1A='35'}1B(7.1A){Q'5d':Q'1n':Q'35':8(7[7.d['N']]!='1c'){7=5g(7,c);7.1R=I}16;2y:7.1A=K;7.1R=(7.1i[0]==0&&7.1i[1]==0&&7.1i[2]==0&&7.1i[3]==0)?K:I;16}}8(!Z(7.1M.1C)){7.1M.1C=6E}8(1G(7.1M.D)){7.1M.D=(7.2m||7.D.T.1c||7.D.1t!='*')?'L':7.D.L}7.M=$.1N(I,{},7.1M,7.M);7.V=$.1N(I,{},7.1M,7.V);7.Y=$.1N(I,{},7.1M,7.Y);7.1a=$.1N(I,{},7.1M,7.1a);7.M=6F($13,7.M);7.V=5h($13,7.V);7.Y=5h($13,7.Y);7.1a=6G($13,7.1a);7.1q=6H($13,7.1q);7.1h=6I($13,7.1h);8(7.2n){7.2n=5i(7.2n)}8(7.M.5j){7.M.4t=7.M.5j;2K('M.5j','M.4t')}8(7.M.5k){7.M.4u=7.M.5k;2K('M.5k','M.4u')}8(7.M.5l){7.M.4v=7.M.5l;2K('M.5l','M.4v')}8(7.M.5m){7.M.2L=7.M.5m;2K('M.5m','M.2L')}};y.6J=C(){y.1m('56',I);E a=y.14(),3V=5n(y,['6K','6L','3W','3q','35','5f','1n','3X','N','1d','6M','1S','5o','6N']),5p='7R';1B(3V.3W){Q'6O':Q'7S':5p=3V.3W;16}$1s.X(3V).X({'7T':'3r','3W':5p});y.1m('5q',3V).X({'6K':'1n','6L':'3Y','3W':'6O','3q':0,'35':'M','5f':'M','1n':0,'6M':0,'1S':0,'5o':0,'6N':0});4w(a,7);5r(a,7);8(7.2m){5s(7,a)}};y.6P=C(){y.5t();y.12(H('5u',F),C(e,a){e.1f();8(!z.2d){8(7.M.W){7.M.W.36(2z('4x',F))}}z.2d=I;8(7.M.1H){7.M.1H=K;y.R(H('3a',F),a)}G I});y.12(H('5v',F),C(e){e.1f();8(z.20){3Z(U)}G I});y.12(H('3a',F),C(e,a,b){e.1f();1u=3s(1u);8(a&&z.20){U.2d=I;E c=2o()-U.2M;U.1C-=c;8(U.3t){U.3t.1C-=c}8(U.3u){U.3u.1C-=c}3Z(U,K)}8(!z.26&&!z.20){8(b){1u.3v+=2o()-1u.2M}}8(!z.26){8(7.M.W){7.M.W.36(2z('6Q',F))}}z.26=I;8(7.M.4u){E d=7.M.2L-1u.3v,3b=2J-1I.2A(d*2J/7.M.2L);7.M.4u.1g($13,3b,d)}G I});y.12(H('1H',F),C(e,b,c,d){e.1f();1u=3s(1u);E v=[b,c,d],t=['2N','27','3c'],a=3d(v,t);b=a[0];c=a[1];d=a[2];8(b!='V'&&b!='Y'){b=z.2b}8(!Z(c)){c=0}8(!1l(d)){d=K}8(d){z.2d=K;7.M.1H=I}8(!7.M.1H){e.2e();G 18(F,'3w 4x: 2p 3e.')}8(z.26){8(7.M.W){7.M.W.2O(2z('4x',F));7.M.W.2O(2z('6Q',F))}}z.26=K;1u.2M=2o();E f=7.M.2L+c;41=f-1u.3v;3b=2J-1I.2A(41*2J/f);8(7.M.1e){1u.1e=7U(C(){E a=2o()-1u.2M+1u.3v,3b=1I.2A(a*2J/f);7.M.1e.4y.1g(7.M.1e.2q[0],3b)},7.M.1e.5w)}1u.M=7V(C(){8(7.M.1e){7.M.1e.4y.1g(7.M.1e.2q[0],2J)}8(7.M.4v){7.M.4v.1g($13,3b,41)}8(z.20){y.R(H('1H',F),b)}O{y.R(H(b,F),7.M)}},41);8(7.M.4t){7.M.4t.1g($13,3b,41)}G I});y.12(H('3f',F),C(e){e.1f();8(U.2d){U.2d=K;z.26=K;z.20=I;U.2M=2o();2P(U)}O{y.R(H('1H',F))}G I});y.12(H('V',F)+' '+H('Y',F),C(e,b,f,g,h){e.1f();8(z.2d||y.2f(':3r')){e.2e();G 18(F,'3w 4x 7W 3r: 2p 3e.')}E i=(Z(7.D.4z))?7.D.4z:7.D.L+1;8(i>J.P){e.2e();G 18(F,'2p 6R D ('+J.P+' P, '+i+' 6S): 2p 3e.')}E v=[b,f,g,h],t=['2g','27/2N','C','3c'],a=3d(v,t);b=a[0];f=a[1];g=a[2];h=a[3];E k=e.5x.17(F.3x.42.S);8(!1D(b)){b={}}8(1o(g)){b.3g=g}8(1l(h)){b.3y=h}b=$.1N(I,{},7[k],b);8(b.5y&&!b.5y.1g($13,k)){e.2e();G 18(F,'7X \"5y\" 7Y K.')}8(!Z(f)){8(7.D.1t!='*'){f='L'}O{E m=[f,b.D,7[k].D];1j(E a=0,l=m.S;a<l;a++){8(Z(m[a])||m[a]=='6T'||m[a]=='L'){f=m[a];16}}}1B(f){Q'6T':e.2e();G y.1Q(H(k+'7Z',F),[b,g]);16;Q'L':8(!7.D.T.1c&&7.D.1t=='*'){f=7.D.L}16}}8(U.2d){y.R(H('3f',F));y.R(H('3y',F),[k,[b,f,g]]);e.2e();G 18(F,'3w 80 3e.')}8(b.1C>0){8(z.20){8(b.3y){y.R(H('3y',F),[k,[b,f,g]])}e.2e();G 18(F,'3w 81 3e.')}}1u.3v=0;y.R(H('6U'+k,F),[b,f]);8(7.2n){E s=7.2n,c=[b,f];1j(E j=0,l=s.S;j<l;j++){E d=k;8(!s[j][2]){d=(d=='V')?'Y':'V'}8(!s[j][1]){c[0]=s[j][0].1Q('3o',['4A',d])}c[1]=f+s[j][3];s[j][0].R('3o',['6U'+d,c])}}G I});y.12(H('82',F),C(e,b,c){e.1f();E d=y.14();8(!7.1T){8(J.11==0){8(7.3z){y.R(H('Y',F),J.P-1)}G e.2e()}}1U(d,7);8(!Z(c)){8(7.D.T.1c){c=4B(d,7,J.P-1)}O 8(7.D.1t!='*'){E f=(Z(b.D))?b.D:5z(y,7);c=6V(d,7,J.P-1,f)}O{c=7.D.L}c=4C(c,7,b.D,$13)}8(!7.1T){8(J.P-c<J.11){c=J.P-J.11}}7.D.T.1Z=7.D.L;8(7.D.T.1c){E g=2x(32(d,7,J.P-c),7,7.D.T.2c,$13);8(7.D.L+c<=g&&c<J.P){c++;g=2x(32(d,7,J.P-c),7,7.D.T.2c,$13)}7.D.L=g}O 8(7.D.1t!='*'){E g=3U(d,7,J.P-c);7.D.L=2x(g,7,7.D.T.2c,$13)}1U(d,7,I);8(c==0){e.2e();G 18(F,'0 D 4D 1M: 2p 3e.')}18(F,'6W '+c+' D 5A.');J.11+=c;2h(J.11>=J.P){J.11-=J.P}8(!7.1T){8(J.11==0&&b.4E){b.4E.1g($13,'V')}8(!7.3z){3A(7,J.11,F)}}y.14().17(J.P-c,J.P).83(y);8(J.P<7.D.L+c){y.14().17(0,(7.D.L+c)-J.P).4F(I).43(y)}E d=y.14(),3h=6X(d,7,c),2i=6Y(d,7),1Y=d.1O(c-1),21=3h.3i(),2r=2i.3i();1U(d,7);E h=0,2B=0;8(7.1A){E p=4G(2i,7);h=p[0];2B=p[1]}E i=(h<0)?7.1i[7.d[3]]:0;E j=K,2Q=$();8(7.D.L<c){2Q=d.17(7.D.T.1Z,c);8(b.1V=='6Z'){E k=7.D[7.d['N']];j=2Q;1Y=2r;5B(j);7.D[7.d['N']]='1c'}}E l=K,3B=2R(d.17(0,c),7,'N'),2j=4H(4I(2i,7,I),7,!7.1R),3C=0,28={},4J={},2s={},2S={},4K={},2T={},5C={},2U=5D(b,7,c,3B);1B(b.1V){Q'1J':Q'1J-1w':3C=2R(d.17(0,7.D.L),7,'N');16}8(j){7.D[7.d['N']]=k}1U(d,7,I);8(2B>=0){1U(21,7,7.1i[7.d[1]])}8(h>=0){1U(1Y,7,7.1i[7.d[3]])}8(7.1A){7.1i[7.d[1]]=2B;7.1i[7.d[3]]=h}2T[7.d['1n']]=-(3B-i);5C[7.d['1n']]=-(3C-i);4J[7.d['1n']]=2j[7.d['N']];E m=C(){},1P=C(){},1E=C(){},3D=C(){},2C=C(){},5E=C(){},1F=C(){},3E=C(){},1x=C(){},1y=C(){},1K=C(){};1B(b.1V){Q'3j':Q'1J':Q'1J-1w':Q'22':Q'22-1w':l=y.4F(I).43($1s);16}1B(b.1V){Q'3j':Q'22':Q'22-1w':l.14().17(0,c).2t();l.14().17(7.D.T.1Z).2t();16;Q'1J':Q'1J-1w':l.14().17(7.D.L).2t();l.X(5C);16}y.X(2T);U=44(2U,b.2k);28[7.d['1n']]=(7.1R)?7.1i[7.d[3]]:0;8(7[7.d['N']]=='1c'||7[7.d['1d']]=='1c'){m=C(){$1s.X(2j)};1P=C(){U.19.1b([$1s,2j])}}8(7.1R){8(2r.5F(1Y).S){2s[7.d['1S']]=1Y.1m('29');8(h<0){1Y.X(2s)}O{1F=C(){1Y.X(2s)};3E=C(){U.19.1b([1Y,2s])}}}1B(b.1V){Q'1J':Q'1J-1w':l.14().1O(c-1).X(2s);16}8(2r.5F(21).S){2S[7.d['1S']]=21.1m('29');1E=C(){21.X(2S)};3D=C(){U.19.1b([21,2S])}}8(2B>=0){4K[7.d['1S']]=2r.1m('29')+7.1i[7.d[1]];2C=C(){2r.X(4K)};5E=C(){U.19.1b([2r,4K])}}}1K=C(){y.X(28)};E n=7.D.L+c-J.P;1y=C(){8(n>0){y.14().17(J.P).2t();3h=$(y.14().17(J.P-(7.D.L-n)).3F().70(y.14().17(0,n).3F()))}5G(j);8(7.1R){E a=y.14().1O(7.D.L+c-1);a.X(7.d['1S'],a.1m('29'))}};E o=5H(3h,2Q,2i,c,'V',2U,2j);1x=C(){5I(y,l,b);z.20=K;2a.3g=45($13,b,'3g',o,2a);2D=5J(y,2D,F);8(!z.26){y.R(H('1H',F))}};z.20=I;1u=3s(1u);2a.3G=45($13,b,'3G',o,2a);1B(b.1V){Q'3Y':y.X(28);m();1E();2C();1F();1K();1y();1x();16;Q'1w':U.19.1b([y,{'1L':0},C(){m();1E();2C();1F();1K();1y();U=44(2U,b.2k);U.19.1b([y,{'1L':1},1x]);2P(U)}]);16;Q'3j':y.X({'1L':0});U.19.1b([l,{'1L':0}]);U.19.1b([y,{'1L':1},1x]);1P();1E();2C();1F();1K();1y();16;Q'1J':U.19.1b([l,28,C(){1E();2C();1F();1K();1y();1x()}]);1P();16;Q'1J-1w':U.19.1b([y,{'1L':0}]);U.19.1b([l,28,C(){y.X({'1L':1});1E();2C();1F();1K();1y();1x()}]);1P();16;Q'22':U.19.1b([l,4J,1x]);1P();1E();2C();1F();1K();1y();16;Q'22-1w':y.X({'1L':0});U.19.1b([y,{'1L':1}]);U.19.1b([l,4J,1x]);1P();1E();2C();1F();1K();1y();16;2y:U.19.1b([y,28,C(){1y();1x()}]);1P();3D();5E();3E();16}2P(U);5K(7.25,y,F);y.R(H('3H',F),[K,2j]);G I});y.12(H('84',F),C(e,c,d){e.1f();E f=y.14();8(!7.1T){8(J.11==7.D.L){8(7.3z){y.R(H('V',F),J.P-1)}G e.2e()}}1U(f,7);8(!Z(d)){8(7.D.1t!='*'){E g=(Z(c.D))?c.D:5z(y,7);d=71(f,7,0,g)}O{d=7.D.L}d=4C(d,7,c.D,$13)}E h=(J.11==0)?J.P:J.11;8(!7.1T){8(7.D.T.1c){E i=32(f,7,d),g=4B(f,7,h-1)}O{E i=7.D.L,g=7.D.L}8(d+i>h){d=h-g}}7.D.T.1Z=7.D.L;8(7.D.T.1c){E i=2x(5L(f,7,d,h),7,7.D.T.2c,$13);2h(7.D.L-d>=i&&d<J.P){d++;i=2x(5L(f,7,d,h),7,7.D.T.2c,$13)}7.D.L=i}O 8(7.D.1t!='*'){E i=3U(f,7,d);7.D.L=2x(i,7,7.D.T.2c,$13)}1U(f,7,I);8(d==0){e.2e();G 18(F,'0 D 4D 1M: 2p 3e.')}18(F,'6W '+d+' D 72.');J.11-=d;2h(J.11<0){J.11+=J.P}8(!7.1T){8(J.11==7.D.L&&c.4E){c.4E.1g($13,'Y')}8(!7.3z){3A(7,J.11,F)}}8(J.P<7.D.L+d){y.14().17(0,(7.D.L+d)-J.P).4F(I).43(y)}E f=y.14(),3h=73(f,7),2i=74(f,7,d),1Y=f.1O(d-1),21=3h.3i(),2r=2i.3i();1U(f,7);E j=0,2B=0;8(7.1A){E p=4G(2i,7);j=p[0];2B=p[1]}E k=K,2Q=$();8(7.D.T.1Z<d){2Q=f.17(7.D.T.1Z,d);8(c.1V=='6Z'){E l=7.D[7.d['N']];k=2Q;1Y=21;5B(k);7.D[7.d['N']]='1c'}}E m=K,3B=2R(f.17(0,d),7,'N'),2j=4H(4I(2i,7,I),7,!7.1R),3C=0,28={},4L={},2s={},2S={},2T={},2U=5D(c,7,d,3B);1B(c.1V){Q'22':Q'22-1w':3C=2R(f.17(0,7.D.T.1Z),7,'N');16}8(k){7.D[7.d['N']]=l}8(7.1A){8(7.1i[7.d[1]]<0){7.1i[7.d[1]]=0}}1U(f,7,I);1U(21,7,7.1i[7.d[1]]);8(7.1A){7.1i[7.d[1]]=2B;7.1i[7.d[3]]=j}2T[7.d['1n']]=(7.1R)?7.1i[7.d[3]]:0;E n=C(){},1P=C(){},1E=C(){},3D=C(){},1F=C(){},3E=C(){},1x=C(){},1y=C(){},1K=C(){};1B(c.1V){Q'3j':Q'1J':Q'1J-1w':Q'22':Q'22-1w':m=y.4F(I).43($1s);m.14().17(7.D.T.1Z).2t();16}1B(c.1V){Q'3j':Q'1J':Q'1J-1w':y.X('3X',1);m.X('3X',0);16}U=44(2U,c.2k);28[7.d['1n']]=-3B;4L[7.d['1n']]=-3C;8(j<0){28[7.d['1n']]+=j}8(7[7.d['N']]=='1c'||7[7.d['1d']]=='1c'){n=C(){$1s.X(2j)};1P=C(){U.19.1b([$1s,2j])}}8(7.1R){E o=2r.1m('29');8(2B>=0){o+=7.1i[7.d[1]]}2r.X(7.d['1S'],o);8(1Y.5F(21).S){2S[7.d['1S']]=21.1m('29')}1E=C(){21.X(2S)};3D=C(){U.19.1b([21,2S])};E q=1Y.1m('29');8(j>0){q+=7.1i[7.d[3]]}2s[7.d['1S']]=q;1F=C(){1Y.X(2s)};3E=C(){U.19.1b([1Y,2s])}}1K=C(){y.X(2T)};E r=7.D.L+d-J.P;1y=C(){8(r>0){y.14().17(J.P).2t()}E a=y.14().17(0,d).43(y).3i();8(r>0){2i=3I(f,7)}5G(k);8(7.1R){8(J.P<7.D.L+d){E b=y.14().1O(7.D.L-1);b.X(7.d['1S'],b.1m('29')+7.1i[7.d[3]])}a.X(7.d['1S'],a.1m('29'))}};E s=5H(3h,2Q,2i,d,'Y',2U,2j);1x=C(){y.X('3X',y.1m('5q').3X);5I(y,m,c);z.20=K;2a.3g=45($13,c,'3g',s,2a);2D=5J(y,2D,F);8(!z.26){y.R(H('1H',F))}};z.20=I;1u=3s(1u);2a.3G=45($13,c,'3G',s,2a);1B(c.1V){Q'3Y':y.X(28);n();1E();1F();1K();1y();1x();16;Q'1w':U.19.1b([y,{'1L':0},C(){n();1E();1F();1K();1y();U=44(2U,c.2k);U.19.1b([y,{'1L':1},1x]);2P(U)}]);16;Q'3j':y.X({'1L':0});U.19.1b([m,{'1L':0}]);U.19.1b([y,{'1L':1},1x]);1P();1E();1F();1K();1y();16;Q'1J':y.X(7.d['1n'],$1s[7.d['N']]());U.19.1b([y,2T,1x]);1P();1E();1F();1y();16;Q'1J-1w':y.X(7.d['1n'],$1s[7.d['N']]());U.19.1b([m,{'1L':0}]);U.19.1b([y,2T,1x]);1P();1E();1F();1y();16;Q'22':U.19.1b([m,4L,1x]);1P();1E();1F();1K();1y();16;Q'22-1w':y.X({'1L':0});U.19.1b([y,{'1L':1}]);U.19.1b([m,4L,1x]);1P();1E();1F();1K();1y();16;2y:U.19.1b([y,28,C(){1K();1y();1x()}]);1P();3D();3E();16}2P(U);5K(7.25,y,F);y.R(H('3H',F),[K,2j]);G I});y.12(H('3k',F),C(e,b,c,d,f,g,h){e.1f();E v=[b,c,d,f,g,h],t=['2N/27/2g','27','3c','2g','2N','C'],a=3d(v,t);f=a[3];g=a[4];h=a[5];b=3J(a[0],a[1],a[2],J,y);8(b==0){G K}8(!1D(f)){f=K}8(z.20){8(!1D(f)||f.1C>0){G K}}8(g!='V'&&g!='Y'){8(7.1T){g=(b<=J.P/2)?'Y':'V'}O{g=(J.11==0||J.11>b)?'Y':'V'}}8(g=='V'){b=J.P-b}y.R(H(g,F),[f,b,h]);G I});y.12(H('85',F),C(e,a,b){e.1f();E c=y.1Q(H('46',F));G y.1Q(H('5M',F),[c-1,a,'V',b])});y.12(H('86',F),C(e,a,b){e.1f();E c=y.1Q(H('46',F));G y.1Q(H('5M',F),[c+1,a,'Y',b])});y.12(H('5M',F),C(e,a,b,c,d){e.1f();8(!Z(a)){a=y.1Q(H('46',F))}E f=7.1a.D||7.D.L,1X=1I.2A(J.P/f)-1;8(a<0){a=1X}8(a>1X){a=0}G y.1Q(H('3k',F),[a*f,0,I,b,c,d])});y.12(H('75',F),C(e,s){e.1f();8(s){s=3J(s,0,I,J,y)}O{s=0}s+=J.11;8(s!=0){8(D.P>0){2h(s>J.P){s-=J.P}}y.87(y.14().17(s,J.P))}G I});y.12(H('2n',F),C(e,s){e.1f();8(s){s=5i(s)}O 8(7.2n){s=7.2n}O{G 18(F,'6q 88 4D 2n.')}E n=y.1Q(H('4m',F)),x=I;1j(E j=0,l=s.S;j<l;j++){8(!s[j][0].1Q(H('3k',F),[n,s[j][3],I])){x=K}}G x});y.12(H('3y',F),C(e,a,b){e.1f();8(1o(a)){a.1g($13,2D)}O 8(2V(a)){2D=a}O 8(!1G(a)){2D.1b([a,b])}G 2D});y.12(H('89',F),C(e,b,c,d,f){e.1f();E v=[b,c,d,f],t=['2N/2g','2N/27/2g','3c','27'],a=3d(v,t);b=a[0];c=a[1];d=a[2];f=a[3];8(1D(b)&&!2u(b)){b=$(b)}O 8(1p(b)){b=$(b)}8(!2u(b)||b.S==0){G 18(F,'2p a 5N 2g.')}8(1G(c)){c='4M'}4w(b,7);5r(b,7);E g=c,47='47';8(c=='4M'){8(d){8(J.11==0){c=J.P-1;47='76'}O{c=J.11;J.11+=b.S}8(c<0){c=0}}O{c=J.P-1;47='76'}}O{c=3J(c,f,d,J,y)}8(g!='4M'&&!d){8(c<J.11){J.11+=b.S}}8(J.11>=J.P){J.11-=J.P}E h=y.14().1O(c);8(h.S){h[47](b)}O{y.77(b)}J.P=y.14().S;y.R(H('4N',F));y.R(H('5O',F));G I});y.12(H('78',F),C(e,c,d,f){e.1f();E v=[c,d,f],t=['2N/27/2g','3c','27'],a=3d(v,t);c=a[0];d=a[1];f=a[2];E g=K;8(c 2W $&&c.S>1){h=$();c.1W(C(i,a){E b=y.R(H('78',F),[$(1k),d,f]);8(b)h=h.8a(b)});G h}8(1G(c)||c=='4M'){h=y.14().3i()}O{c=3J(c,f,d,J,y);E h=y.14().1O(c);8(h.S){8(c<J.11)J.11-=h.S}}8(h&&h.S){h.8b();J.P=y.14().S;y.R(H('4N',F))}G h});y.12(H('3G',F)+' '+H('3g',F),C(e,a){e.1f();E b=e.5x.17(F.3x.42.S);8(2V(a)){2a[b]=a}8(1o(a)){2a[b].1b(a)}G 2a[b]});y.12(H('4m',F),C(e,a){e.1f();8(J.11==0){E b=0}O{E b=J.P-J.11}8(1o(a)){a.1g($13,b)}G b});y.12(H('46',F),C(e,a){e.1f();E b=7.1a.D||7.D.L,1X=1I.2A(J.P/b-1),2l;8(J.11==0){2l=0}O 8(J.11<J.P%b){2l=0}O 8(J.11==b&&!7.1T){2l=1X}O{2l=1I.79((J.P-J.11)/b)}8(2l<0){2l=0}8(2l>1X){2l=1X}8(1o(a)){a.1g($13,2l)}G 2l});y.12(H('8c',F),C(e,a){e.1f();E b=3I(y.14(),7);8(1o(a)){a.1g($13,b)}G b});y.12(H('17',F),C(e,f,l,b){e.1f();8(J.P==0){G K}E v=[f,l,b],t=['27','27','C'],a=3d(v,t);f=(Z(a[0]))?a[0]:0;l=(Z(a[1]))?a[1]:J.P;b=a[2];f+=J.11;l+=J.11;8(D.P>0){2h(f>J.P){f-=J.P}2h(l>J.P){l-=J.P}2h(f<0){f+=J.P}2h(l<0){l+=J.P}}E c=y.14(),$i;8(l>f){$i=c.17(f,l)}O{$i=$(c.17(f,J.P).3F().70(c.17(0,l).3F()))}8(1o(b)){b.1g($13,$i)}G $i});y.12(H('26',F)+' '+H('2d',F)+' '+H('20',F),C(e,a){e.1f();E b=e.5x.17(F.3x.42.S),5P=z[b];8(1o(a)){a.1g($13,5P)}G 5P});y.12(H('4A',F),C(e,a,b,c){e.1f();E d=K;8(1o(a)){a.1g($13,7)}O 8(1D(a)){31=$.1N(I,{},31,a);8(b!==K)d=I;O 7=$.1N(I,{},7,a)}O 8(!1G(a)){8(1o(b)){E f=4O('7.'+a);8(1G(f)){f=''}b.1g($13,f)}O 8(!1G(b)){8(2X c!=='3c')c=I;4O('31.'+a+' = b');8(c!==K)d=I;O 4O('7.'+a+' = b')}O{G 4O('7.'+a)}}8(d){1U(y.14(),7);y.57(31);y.5Q();E g=4P(y,7);y.R(H('3H',F),[I,g])}G 7});y.12(H('5O',F),C(e,a,b){e.1f();8(1G(a)){a=$('8d')}O 8(1p(a)){a=$(a)}8(!2u(a)||a.S==0){G 18(F,'2p a 5N 2g.')}8(!1p(b)){b='a.6p'}a.8e(b).1W(C(){E h=1k.7a||'';8(h.S>0&&y.14().7b($(h))!=-1){$(1k).23('5R').5R(C(e){e.2E();y.R(H('3k',F),h)})}});G I});y.12(H('3H',F),C(e,b,c){e.1f();8(!7.1a.1z){G}E d=7.1a.D||7.D.L,4Q=1I.2A(J.P/d);8(b){8(7.1a.3K){7.1a.1z.14().2t();7.1a.1z.1W(C(){1j(E a=0;a<4Q;a++){E i=y.14().1O(3J(a*d,0,I,J,y));$(1k).77(7.1a.3K.1g(i[0],a+1))}})}7.1a.1z.1W(C(){$(1k).14().23(7.1a.3L).1W(C(a){$(1k).12(7.1a.3L,C(e){e.2E();y.R(H('3k',F),[a*d,-7.1a.4R,I,7.1a])})})})}E f=y.1Q(H('46',F))+7.1a.4R;8(f>=4Q){f=0}8(f<0){f=4Q-1}7.1a.1z.1W(C(){$(1k).14().2O(2z('7c',F)).1O(f).36(2z('7c',F))});G I});y.12(H('4N',F),C(e){E a=7.D.L,2F=y.14(),2w=5b($1s,7,'N');J.P=2F.S;7.4p=5c(7,2w);8(z.4q){7[7.d['N']]=4r(2w,z.4q)}8(7.2m){7.D.N=7.D.3M.N;7.D.1d=7.D.3M.1d;7=5e(7,2F,2w);a=7.D.L;5s(7,2F)}O 8(7.D.T.1c){a=32(2F,7,0)}O 8(7.D.1t!='*'){a=3U(2F,7,0)}8(!7.1T&&J.11!=0&&a>J.11){8(7.D.T.1c){E b=4B(2F,7,J.11)-J.11}O 8(7.D.1t!='*'){E b=7d(2F,7,J.11)-J.11}O{E b=7.D.L-J.11}18(F,'8f 8g-1T: 8h '+b+' D 5A.');y.R(H('V',F),b)}7.D.L=2x(a,7,7.D.T.2c,$13);7.D.T.1Z=7.D.L;7=5g(7,2F);E c=4P(y,7);y.R(H('3H',F),[I,c]);4S(7,J.P,F);3A(7,J.11,F);G c});y.12(H('4n',F),C(e,a){e.1f();1u=3s(1u);y.1m('56',K);y.R(H('5v',F));8(a){y.R(H('75',F))}1U(y.14(),7);8(7.2m){y.14().1W(C(){$(1k).X($(1k).1m('7e'))})}y.X(y.1m('5q'));y.5t();y.5S();$1s.8i(y);G I});y.12(H('18',F),C(e){18(F,'3w N: '+7.N);18(F,'3w 1d: '+7.1d);18(F,'7f 8j: '+7.D.N);18(F,'7f 8k: '+7.D.1d);18(F,'48 4a D L: '+7.D.L);8(7.M.1H){18(F,'48 4a D 5T 8l: '+7.M.D)}8(7.V.W){18(F,'48 4a D 5T 5A: '+7.V.D)}8(7.Y.W){18(F,'48 4a D 5T 72: '+7.Y.D)}G F.18});y.12('3o',C(e,n,o){e.1f();G y.1Q(H(n,F),o)})};y.5t=C(){y.23(H('',F));y.23(H('',F,K));y.23('3o')};y.5Q=C(){y.5S();4S(7,J.P,F);3A(7,J.11,F);8(7.M.2G){E b=3N(7.M.2G);$1s.12(H('4T',F,K),C(){y.R(H('3a',F),b)}).12(H('4U',F,K),C(){y.R(H('3f',F))})}8(7.M.W){7.M.W.12(H(7.M.3L,F,K),C(e){e.2E();E a=K,b=2H;8(z.26){a='1H'}O 8(7.M.4V){a='3a';b=3N(7.M.4V)}8(a){y.R(H(a,F),b)}})}8(7.V.W){7.V.W.12(H(7.V.3L,F,K),C(e){e.2E();y.R(H('V',F))});8(7.V.2G){E b=3N(7.V.2G);7.V.W.12(H('4T',F,K),C(){y.R(H('3a',F),b)}).12(H('4U',F,K),C(){y.R(H('3f',F))})}}8(7.Y.W){7.Y.W.12(H(7.Y.3L,F,K),C(e){e.2E();y.R(H('Y',F))});8(7.Y.2G){E b=3N(7.Y.2G);7.Y.W.12(H('4T',F,K),C(){y.R(H('3a',F),b)}).12(H('4U',F,K),C(){y.R(H('3f',F))})}}8(7.1a.1z){8(7.1a.2G){E b=3N(7.1a.2G);7.1a.1z.12(H('4T',F,K),C(){y.R(H('3a',F),b)}).12(H('4U',F,K),C(){y.R(H('3f',F))})}}8(7.V.2Y||7.Y.2Y){$(4b).12(H('7g',F,K,I,I),C(e){E k=e.7h;8(k==7.Y.2Y){e.2E();y.R(H('Y',F))}8(k==7.V.2Y){e.2E();y.R(H('V',F))}})}8(7.1a.4W){$(4b).12(H('7g',F,K,I,I),C(e){E k=e.7h;8(k>=49&&k<58){k=(k-49)*7.D.L;8(k<=J.P){e.2E();y.R(H('3k',F),[k,0,I,7.1a])}}})}8(7.V.4X||7.Y.4X){2K('4c 4d-7i','4c 8m-7i');8($.1r.4d){E c=(7.V.4X)?C(){y.R(H('V',F))}:2H,4e=(7.Y.4X)?C(){y.R(H('Y',F))}:2H;8(4e||4e){8(!z.4d){z.4d=I;E d={'8n':30,'8o':30,'8p':I};1B(7.2b){Q'4o':Q'5U':d.8q=c;d.8r=4e;16;2y:d.8s=4e;d.8t=c}$1s.4d(d)}}}}8($.1r.1q){E f='8u'8v 3l;8((f&&7.1q.4f)||(!f&&7.1q.5V)){E g=$.1N(I,{},7.V,7.1q),7j=$.1N(I,{},7.Y,7.1q),5W=C(){y.R(H('V',F),[g])},5X=C(){y.R(H('Y',F),[7j])};1B(7.2b){Q'4o':Q'5U':7.1q.2I.8w=5X;7.1q.2I.8x=5W;16;2y:7.1q.2I.8y=5X;7.1q.2I.8z=5W}8(z.1q){y.1q('4n')}$1s.1q(7.1q.2I);$1s.X('7k','8A');z.1q=I}}8($.1r.1h){8(7.V.1h){2K('7l V.1h 7m','4c 1h 4A 2g');7.V.1h=2H;7.1h={D:5Y(7.V.1h)}}8(7.Y.1h){2K('7l Y.1h 7m','4c 1h 4A 2g');7.Y.1h=2H;7.1h={D:5Y(7.Y.1h)}}8(7.1h){E h=$.1N(I,{},7.V,7.1h),7n=$.1N(I,{},7.Y,7.1h);8(z.1h){$1s.23(H('1h',F,K))}$1s.12(H('1h',F,K),C(e,a){e.2E();8(a>0){y.R(H('V',F),[h])}O{y.R(H('Y',F),[7n])}});z.1h=I}}8(7.M.1H){y.R(H('1H',F),7.M.5Z)}8(z.6B){E i=$(3l),61=0,62=0;i.12(H('8B',F,K,I,I),C(e){E a=i.N(),63=i.1d();8(a!=61||63!=62){y.R(H('5v',F));8(7.M.64&&!z.26){y.R(H('1H',F))}1U(y.14(),7);y.R(H('4N',F));61=a;62=63}})}};y.5S=C(){E a=H('',F),3O=H('',F,K);65=H('',F,K,I,I);$(4b).23(65);$(3l).23(65);$1s.23(3O);8(7.M.W){7.M.W.23(3O)}8(7.V.W){7.V.W.23(3O)}8(7.Y.W){7.Y.W.23(3O)}8(7.1a.1z){7.1a.1z.23(3O);8(7.1a.3K){7.1a.1z.14().2t()}}8(z.1q){y.1q('4n');$1s.X('7k','2y');z.1q=K}8(z.1h){z.1h=K}4S(7,'4g',F);3A(7,'2O',F)};8(1l(w)){w={'18':w}}E z={'2b':'Y','26':I,'20':K,'2d':K,'1h':K,'1q':K},J={'P':y.14().S,'11':0},1u={'M':2H,'1e':2H,'2M':2o(),'3v':0},U={'2d':K,'1C':0,'2M':0,'2k':'','19':[]},2a={'3G':[],'3g':[]},2D=[],F=$.1N(I,{},$.1r.1v.7o,w),7={},31=$.1N(I,{},u),$1s=y.8C('<'+F.66.54+' 8D=\"'+F.66.7p+'\" />').68();F.4l=y.4l;F.3S=$.1r.1v.3S++;y.57(31,I,55);y.6J();y.6P();y.5Q();8(2V(7.D.3m)){E A=7.D.3m}O{E A=[];8(7.D.3m!=0){A.1b(7.D.3m)}}8(7.25){A.8E(4h(7q(7.25),10))}8(A.S>0){1j(E a=0,l=A.S;a<l;a++){E s=A[a];8(s==0){69}8(s===I){s=3l.8F.7a;8(s.S<1){69}}O 8(s==='7r'){s=1I.4i(1I.7r()*J.P)}8(y.1Q(H('3k',F),[s,0,I,{1V:'3Y'}])){16}}}E B=4P(y,7),7s=3I(y.14(),7);8(7.7t){7.7t.1g($13,{'N':B.N,'1d':B.1d,'D':7s})}y.R(H('3H',F),[I,B]);y.R(H('5O',F));8(F.18){y.R(H('18',F))}G y};$.1r.1v.3S=1;$.1r.1v.5a={'2n':K,'3z':I,'1T':I,'2m':K,'2b':'1n','D':{'3m':0},'1M':{'2k':'8G','1C':6E,'2G':K,'3L':'5R','3y':K}};$.1r.1v.7o={'18':K,'3x':{'42':'','7u':'8H'},'66':{'54':'8I','7p':'8J'},'6a':{}};$.1r.1v.7v=C(a){G'<a 8K=\"#\"><7w>'+a+'</7w></a>'};$.1r.1v.7x=C(a){$(1k).X('N',a+'%')};$.1r.1v.25={3F:C(n){n+='=';E b=4b.25.3P(';');1j(E a=0,l=b.S;a<l;a++){E c=b[a];2h(c.8L(0)==' '){c=c.17(1)}8(c.3Q(n)==0){G c.17(n.S)}}G 0},6b:C(n,v,d){E e=\"\";8(d){E a=6c 7y();a.8M(a.2o()+(d*24*60*60*8N));e=\"; 8O=\"+a.8P()}4b.25=n+'='+v+e+'; 8Q=/'},2t:C(n){$.1r.1v.25.6b(n,\"\",-1)}};C 44(d,e){G{19:[],1C:d,8R:d,2k:e,2M:2o()}}C 2P(s){8(1D(s.3t)){2P(s.3t)}1j(E a=0,l=s.19.S;a<l;a++){E b=s.19[a];8(!b){69}8(b[3]){b[0].5u()}b[0].8S(b[1],{8T:b[2],1C:s.1C,2k:s.2k})}8(1D(s.3u)){2P(s.3u)}}C 3Z(s,c){8(!1l(c)){c=I}8(1D(s.3t)){3Z(s.3t,c)}1j(E a=0,l=s.19.S;a<l;a++){E b=s.19[a];b[0].5u(I);8(c){b[0].X(b[1]);8(1o(b[2])){b[2]()}}}8(1D(s.3u)){3Z(s.3u,c)}}C 5I(a,b,o){8(b){b.2t()}1B(o.1V){Q'1w':Q'3j':Q'1J-1w':Q'22-1w':a.X('1t','');16}}C 45(d,o,b,a,c){8(o[b]){o[b].1g(d,a)}8(c[b].S){1j(E i=0,l=c[b].S;i<l;i++){c[b][i].1g(d,a)}}G[]}C 5J(a,q,c){8(q.S){a.R(H(q[0][0],c),q[0][1]);q.8U()}G q}C 5B(b){b.1W(C(){E a=$(1k);a.1m('7z',a.2f(':3r')).4g()})}C 5G(b){8(b){b.1W(C(){E a=$(1k);8(!a.1m('7z')){a.4j()}})}}C 3s(t){8(t.M){8V(t.M)}8(t.1e){8W(t.1e)}G t}C 5H(a,b,c,d,e,f,g){G{'N':g.N,'1d':g.1d,'D':{'1Z':a,'8X':b,'6c':c,'L':c},'1M':{'D':d,'2b':e,'1C':f}}}C 5D(a,o,b,c){E d=a.1C;8(a.1V=='3Y'){G 0}8(d=='M'){d=o.1M.1C/o.1M.D*b}O 8(d<10){d=c/d}8(d<1){G 0}8(a.1V=='1w'){d=d/2}G 1I.79(d)}C 4S(o,t,c){E a=(Z(o.D.4z))?o.D.4z:o.D.L+1;8(t=='4j'||t=='4g'){E f=t}O 8(a>t){18(c,'2p 6R D ('+t+' P, '+a+' 6S): 8Y 8Z.');E f='4g'}O{E f='4j'}E s=(f=='4j')?'2O':'36',h=2z('3r',c);8(o.M.W){o.M.W[f]()[s](h)}8(o.V.W){o.V.W[f]()[s](h)}8(o.Y.W){o.Y.W[f]()[s](h)}8(o.1a.1z){o.1a.1z[f]()[s](h)}}C 3A(o,f,c){8(o.1T||o.3z)G;E a=(f=='2O'||f=='36')?f:K,4Y=2z('90',c);8(o.M.W&&a){o.M.W[a](4Y)}8(o.V.W){E b=a||(f==0)?'36':'2O';o.V.W[b](4Y)}8(o.Y.W){E b=a||(f==o.D.L)?'36':'2O';o.Y.W[b](4Y)}}C 3R(a,b){8(1o(b)){b=b.1g(a)}O 8(1G(b)){b={}}G b}C 6r(a,b){b=3R(a,b);8(Z(b)){b={'L':b}}O 8(b=='1c'){b={'L':b,'N':b,'1d':b}}O 8(!1D(b)){b={}}G b}C 6s(a,b){b=3R(a,b);8(Z(b)){8(b<=50){b={'D':b}}O{b={'1C':b}}}O 8(1p(b)){b={'2k':b}}O 8(!1D(b)){b={}}G b}C 4Z(a,b){b=3R(a,b);8(1p(b)){E c=6d(b);8(c==-1){b=$(b)}O{b=c}}G b}C 6t(a,b){b=4Z(a,b);8(2u(b)){b={'W':b}}O 8(1l(b)){b={'1H':b}}O 8(Z(b)){b={'2L':b}}8(b.1e){8(1p(b.1e)||2u(b.1e)){b.1e={'2q':b.1e}}}G b}C 6F(a,b){8(1o(b.W)){b.W=b.W.1g(a)}8(1p(b.W)){b.W=$(b.W)}8(!1l(b.1H)){b.1H=I}8(!Z(b.5Z)){b.5Z=0}8(1G(b.4V)){b.4V=I}8(!1l(b.64)){b.64=I}8(!Z(b.2L)){b.2L=(b.1C<10)?91:b.1C*5}8(b.1e){8(1o(b.1e.2q)){b.1e.2q=b.1e.2q.1g(a)}8(1p(b.1e.2q)){b.1e.2q=$(b.1e.2q)}8(b.1e.2q){8(!1o(b.1e.4y)){b.1e.4y=$.1r.1v.7x}8(!Z(b.1e.5w)){b.1e.5w=50}}O{b.1e=K}}G b}C 59(a,b){b=4Z(a,b);8(2u(b)){b={'W':b}}O 8(Z(b)){b={'2Y':b}}G b}C 5h(a,b){8(1o(b.W)){b.W=b.W.1g(a)}8(1p(b.W)){b.W=$(b.W)}8(1p(b.2Y)){b.2Y=6d(b.2Y)}G b}C 6u(a,b){b=4Z(a,b);8(2u(b)){b={'1z':b}}O 8(1l(b)){b={'4W':b}}G b}C 6G(a,b){8(1o(b.1z)){b.1z=b.1z.1g(a)}8(1p(b.1z)){b.1z=$(b.1z)}8(!Z(b.D)){b.D=K}8(!1l(b.4W)){b.4W=K}8(!1o(b.3K)&&!51(b.3K)){b.3K=$.1r.1v.7v}8(!Z(b.4R)){b.4R=0}G b}C 6v(a,b){8(1o(b)){b=b.1g(a)}8(1G(b)){b={'4f':K}}8(3p(b)){b={'4f':b}}O 8(Z(b)){b={'D':b}}G b}C 6H(a,b){8(!1l(b.4f)){b.4f=I}8(!1l(b.5V)){b.5V=K}8(!1D(b.2I)){b.2I={}}8(!1l(b.2I.7A)){b.2I.7A=K}G b}C 6w(a,b){8(1o(b)){b=b.1g(a)}8(3p(b)){b={}}O 8(Z(b)){b={'D':b}}O 8(1G(b)){b=K}G b}C 6I(a,b){G b}C 3J(a,b,c,d,e){8(1p(a)){a=$(a,e)}8(1D(a)){a=$(a,e)}8(2u(a)){a=e.14().7b(a);8(!1l(c)){c=K}}O{8(!1l(c)){c=I}}8(!Z(a)){a=0}8(!Z(b)){b=0}8(c){a+=d.11}a+=b;8(d.P>0){2h(a>=d.P){a-=d.P}2h(a<0){a+=d.P}}G a}C 4B(i,o,s){E t=0,x=0;1j(E a=s;a>=0;a--){E j=i.1O(a);t+=(j.2f(':L'))?j[o.d['2v']](I):0;8(t>o.4p){G x}8(a==0){a=i.S}x++}}C 7d(i,o,s){G 6e(i,o.D.1t,o.D.T.4s,s)}C 6V(i,o,s,m){G 6e(i,o.D.1t,m,s)}C 6e(i,f,m,s){E t=0,x=0;1j(E a=s,l=i.S;a>=0;a--){x++;8(x==l){G x}E j=i.1O(a);8(j.2f(f)){t++;8(t==m){G x}}8(a==0){a=l}}}C 5z(a,o){G o.D.T.4s||a.14().17(0,o.D.L).1t(o.D.1t).S}C 32(i,o,s){E t=0,x=0;1j(E a=s,l=i.S-1;a<=l;a++){E j=i.1O(a);t+=(j.2f(':L'))?j[o.d['2v']](I):0;8(t>o.4p){G x}x++;8(x==l+1){G x}8(a==l){a=-1}}}C 5L(i,o,s,l){E v=32(i,o,s);8(!o.1T){8(s+v>l){v=l-s}}G v}C 3U(i,o,s){G 6f(i,o.D.1t,o.D.T.4s,s,o.1T)}C 71(i,o,s,m){G 6f(i,o.D.1t,m+1,s,o.1T)-1}C 6f(i,f,m,s,c){E t=0,x=0;1j(E a=s,l=i.S-1;a<=l;a++){x++;8(x>=l){G x}E j=i.1O(a);8(j.2f(f)){t++;8(t==m){G x}}8(a==l){a=-1}}}C 3I(i,o){G i.17(0,o.D.L)}C 6X(i,o,n){G i.17(n,o.D.T.1Z+n)}C 6Y(i,o){G i.17(0,o.D.L)}C 73(i,o){G i.17(0,o.D.T.1Z)}C 74(i,o,n){G i.17(n,o.D.L+n)}C 4w(i,o,d){8(o.1R){8(!1p(d)){d='29'}i.1W(C(){E j=$(1k),m=4h(j.X(o.d['1S']),10);8(!Z(m)){m=0}j.1m(d,m)})}}C 1U(i,o,m){8(o.1R){E x=(1l(m))?m:K;8(!Z(m)){m=0}4w(i,o,'7B');i.1W(C(){E j=$(1k);j.X(o.d['1S'],((x)?j.1m('7B'):m+j.1m('29')))})}}C 5r(i,o){8(o.2m){i.1W(C(){E j=$(1k),s=5n(j,['N','1d']);j.1m('7e',s)})}}C 5s(o,b){E c=o.D.L,7C=o.D[o.d['N']],6g=o[o.d['1d']],7D=3T(6g);b.1W(C(){E a=$(1k),6h=7C-7E(a,o,'92');a[o.d['N']](6h);8(7D){a[o.d['1d']](4r(6h,6g))}})}C 4P(a,o){E b=a.68(),$i=a.14(),$v=3I($i,o),52=4H(4I($v,o,I),o,K);b.X(52);8(o.1R){E p=o.1i,r=p[o.d[1]];8(o.1A&&r<0){r=0}E c=$v.3i();c.X(o.d['1S'],c.1m('29')+r);a.X(o.d['3q'],p[o.d[0]]);a.X(o.d['1n'],p[o.d[3]])}a.X(o.d['N'],52[o.d['N']]+(2R($i,o,'N')*2));a.X(o.d['1d'],6i($i,o,'1d'));G 52}C 4I(i,o,a){G[2R(i,o,'N',a),6i(i,o,'1d',a)]}C 6i(i,o,a,b){8(!1l(b)){b=K}8(Z(o[o.d[a]])&&b){G o[o.d[a]]}8(Z(o.D[o.d[a]])){G o.D[o.d[a]]}a=(a.6j().3Q('N')>-1)?'2v':'3n';G 4k(i,o,a)}C 4k(i,o,b){E s=0;1j(E a=0,l=i.S;a<l;a++){E j=i.1O(a);E m=(j.2f(':L'))?j[o.d[b]](I):0;8(s<m){s=m}}G s}C 2R(i,o,b,c){8(!1l(c)){c=K}8(Z(o[o.d[b]])&&c){G o[o.d[b]]}8(Z(o.D[o.d[b]])){G o.D[o.d[b]]*i.S}E d=(b.6j().3Q('N')>-1)?'2v':'3n',s=0;1j(E a=0,l=i.S;a<l;a++){E j=i.1O(a);s+=(j.2f(':L'))?j[o.d[d]](I):0}G s}C 5b(a,o,d){E b=a.2f(':L');8(b){a.4g()}E s=a.68()[o.d[d]]();8(b){a.4j()}G s}C 5c(o,a){G(Z(o[o.d['N']]))?o[o.d['N']]:a}C 6k(i,o,b){E s=K,v=K;1j(E a=0,l=i.S;a<l;a++){E j=i.1O(a);E c=(j.2f(':L'))?j[o.d[b]](I):0;8(s===K){s=c}O 8(s!=c){v=I}8(s==0){v=I}}G v}C 7E(i,o,d){G i[o.d['93'+d]](I)-i[o.d[d.6j()]]()}C 4r(s,o){8(3T(o)){o=4h(o.17(0,-1),10);8(!Z(o)){G s}s*=o/2J}G s}C H(n,c,a,b,d){8(!1l(a)){a=I}8(!1l(b)){b=I}8(!1l(d)){d=K}8(a){n=c.3x.42+n}8(b){n=n+'.'+c.3x.7u}8(b&&d){n+=c.3S}G n}C 2z(n,c){G(1p(c.6a[n]))?c.6a[n]:n}C 4H(a,o,p){8(!1l(p)){p=I}E b=(o.1R&&p)?o.1i:[0,0,0,0];E c={};c[o.d['N']]=a[0]+b[1]+b[3];c[o.d['1d']]=a[1]+b[0]+b[2];G c}C 3d(c,d){E e=[];1j(E a=0,7F=c.S;a<7F;a++){1j(E b=0,7G=d.S;b<7G;b++){8(d[b].3Q(2X c[a])>-1&&1G(e[b])){e[b]=c[a];16}}}G e}C 6D(p){8(1G(p)){G[0,0,0,0]}8(Z(p)){G[p,p,p,p]}8(1p(p)){p=p.3P('94').7H('').3P('95').7H('').3P(' ')}8(!2V(p)){G[0,0,0,0]}1j(E i=0;i<4;i++){p[i]=4h(p[i],10)}1B(p.S){Q 0:G[0,0,0,0];Q 1:G[p[0],p[0],p[0],p[0]];Q 2:G[p[0],p[1],p[0],p[1]];Q 3:G[p[0],p[1],p[2],p[1]];2y:G[p[0],p[1],p[2],p[3]]}}C 4G(a,o){E x=(Z(o[o.d['N']]))?1I.2A(o[o.d['N']]-2R(a,o,'N')):0;1B(o.1A){Q'1n':G[0,x];Q'35':G[x,0];Q'5d':2y:G[1I.2A(x/2),1I.4i(x/2)]}}C 6x(o){E a=[['N','7I','2v','1d','7J','3n','1n','3q','1S',0,1,2,3],['1d','7J','3n','N','7I','2v','3q','1n','5o',3,2,1,0]];E b=a[0].S,7K=(o.2b=='35'||o.2b=='1n')?0:1;E c={};1j(E d=0;d<b;d++){c[a[0][d]]=a[7K][d]}G c}C 4C(x,o,a,b){E v=x;8(1o(a)){v=a.1g(b,v)}O 8(1p(a)){E p=a.3P('+'),m=a.3P('-');8(m.S>p.S){E c=I,6l=m[0],2Z=m[1]}O{E c=K,6l=p[0],2Z=p[1]}1B(6l){Q'96':v=(x%2==1)?x-1:x;16;Q'97':v=(x%2==0)?x-1:x;16;2y:v=x;16}2Z=4h(2Z,10);8(Z(2Z)){8(c){2Z=-2Z}v+=2Z}}8(!Z(v)||v<1){v=1}G v}C 2x(x,o,a,b){G 6m(4C(x,o,a,b),o.D.T)}C 6m(v,i){8(Z(i.34)&&v<i.34){v=i.34}8(Z(i.1X)&&v>i.1X){v=i.1X}8(v<1){v=1}G v}C 5i(s){8(!2V(s)){s=[[s]]}8(!2V(s[0])){s=[s]}1j(E j=0,l=s.S;j<l;j++){8(1p(s[j][0])){s[j][0]=$(s[j][0])}8(!1l(s[j][1])){s[j][1]=I}8(!1l(s[j][2])){s[j][2]=I}8(!Z(s[j][3])){s[j][3]=0}}G s}C 6d(k){8(k=='35'){G 39}8(k=='1n'){G 37}8(k=='4o'){G 38}8(k=='5U'){G 40}G-1}C 5K(n,a,c){8(n){E v=a.1Q(H('4m',c));$.1r.1v.25.6b(n,v)}}C 7q(n){E c=$.1r.1v.25.3F(n);G(c=='')?0:c}C 5n(a,b){E c={},53;1j(E p=0,l=b.S;p<l;p++){53=b[p];c[53]=a.X(53)}G c}C 6y(a,b,c,d){8(!1D(a.T)){a.T={}}8(!1D(a.3M)){a.3M={}}8(a.3m==0&&Z(d)){a.3m=d}8(1D(a.L)){a.T.34=a.L.34;a.T.1X=a.L.1X;a.L=K}O 8(1p(a.L)){8(a.L=='1c'){a.T.1c=I}O{a.T.2c=a.L}a.L=K}O 8(1o(a.L)){a.T.2c=a.L;a.L=K}8(!1p(a.1t)){a.1t=(c.1t(':3r').S>0)?':L':'*'}8(!a[b.d['N']]){8(b.2m){18(I,'7L a '+b.d['N']+' 1j 4c D!');a[b.d['N']]=4k(c,b,'2v')}O{a[b.d['N']]=(6k(c,b,'2v'))?'1c':c[b.d['2v']](I)}}8(!a[b.d['1d']]){a[b.d['1d']]=(6k(c,b,'3n'))?'1c':c[b.d['3n']](I)}a.3M.N=a.N;a.3M.1d=a.1d;G a}C 6C(a,b){8(a.D[a.d['N']]=='1c'){a.D.T.1c=I}8(!a.D.T.1c){8(Z(a[a.d['N']])){a.D.L=1I.4i(a[a.d['N']]/a.D[a.d['N']])}O{a.D.L=1I.4i(b/a.D[a.d['N']]);a[a.d['N']]=a.D.L*a.D[a.d['N']];8(!a.D.T.2c){a.1A=K}}8(a.D.L=='98'||a.D.L<1){18(I,'2p a 5N 27 4a L D: 7L 4D \"1c\".');a.D.T.1c=I}}G a}C 6z(a,b,c){8(a=='M'){a=4k(c,b,'2v')}G a}C 6A(a,b,c){8(a=='M'){a=4k(c,b,'3n')}8(!a){a=b.D[b.d['1d']]}G a}C 5g(o,a){E p=4G(3I(a,o),o);o.1i[o.d[1]]=p[1];o.1i[o.d[3]]=p[0];G o}C 5e(o,a,b){E c=6m(1I.2A(o[o.d['N']]/o.D[o.d['N']]),o.D.T);8(c>a.S){c=a.S}E d=1I.4i(o[o.d['N']]/c);o.D.L=c;o.D[o.d['N']]=d;o[o.d['N']]=c*d;G o}C 3N(p){8(1p(p)){E i=(p.3Q('99')>-1)?I:K,r=(p.3Q('3f')>-1)?I:K}O{E i=r=K}G[i,r]}C 5Y(a){G(Z(a))?a:2H}C 6n(a){G(a===2H)}C 1G(a){G(6n(a)||2X a=='7M'||a===''||a==='7M')}C 2V(a){G(a 2W 9a)}C 2u(a){G(a 2W 7N)}C 1D(a){G((a 2W 9b||2X a=='2g')&&!6n(a)&&!2u(a)&&!2V(a))}C Z(a){G((a 2W 48||2X a=='27')&&!9c(a))}C 1p(a){G((a 2W 9d||2X a=='2N')&&!1G(a)&&!3p(a)&&!51(a))}C 1o(a){G(a 2W 9e||2X a=='C')}C 1l(a){G(a 2W 9f||2X a=='3c'||3p(a)||51(a))}C 3p(a){G(a===I||a==='I')}C 51(a){G(a===K||a==='K')}C 3T(x){G(1p(x)&&x.17(-1)=='%')}C 2o(){G 6c 7y().2o()}C 2K(o,n){18(I,o+' 2f 9g, 9h 1j 9i 9j 9k 9l. 9m '+n+' 9n.')}C 18(d,m){8(1D(d)){E s=' ('+d.4l+')';d=d.18}O{E s=''}8(!d){G K}8(1p(m)){m='1v'+s+': '+m}O{m=['1v'+s+':',m]}8(3l.6o&&3l.6o.7O){3l.6o.7O(m)}G K}$.1N($.2k,{'9o':C(t){E a=t*t;G t*(-a*t+4*a-6*t+4)},'9p':C(t){G t*(4*t*t-9*t+6)},'9q':C(t){E a=t*t;G t*(33*a*a-9r*a*t+9s*a-67*t+15)}})})(7N);",62,587,"|||||||opts|if||||||||||||||||||||||||||||||function|items|var|conf|return|cf_e|true|itms|false|visible|auto|width|else|total|case|trigger|length|visibleConf|scrl|prev|button|css|next|is_number||first|bind|tt0|children||break|slice|debug|anims|pagination|push|variable|height|progress|stopPropagation|call|mousewheel|padding|for|this|is_boolean|data|left|is_function|is_string|swipe|fn|wrp|filter|tmrs|carouFredSel|fade|_onafter|_moveitems|container|align|switch|duration|is_object|_s_paddingold|_s_paddingcur|is_undefined|play|Math|cover|_position|opacity|scroll|extend|eq|_a_wrapper|triggerHandler|usePadding|marginRight|circular|sz_resetMargin|fx|each|max|i_cur_l|old|isScrolling|i_old_l|uncover|unbind||cookie|isPaused|number|a_cfs|_cfs_origCssMargin|clbk|direction|adjust|isStopped|stopImmediatePropagation|is|object|while|i_new|w_siz|easing|nr|responsive|synchronise|getTime|Not|bar|i_new_l|a_cur|remove|is_jquery|outerWidth|avail_primary|cf_getItemsAdjust|default|cf_c|ceil|pR|_s_paddingnew|queu|preventDefault|a_itm|pauseOnHover|null|options|100|deprecated|timeoutDuration|startTime|string|removeClass|sc_startScroll|i_skp|ms_getTotalSize|a_old|a_lef|a_dur|is_array|instanceof|typeof|key|adj||opts_orig|gn_getVisibleItemsNext||min|right|addClass||||pause|perc|boolean|cf_sortParams|scrolling|resume|onAfter|i_old|last|crossfade|slideTo|window|start|outerHeight|_cfs_triggerEvent|is_true|top|hidden|sc_clearTimers|pre|post|timePassed|Carousel|events|queue|infinite|nv_enableNavi|i_siz|i_siz_vis|_a_paddingold|_a_paddingcur|get|onBefore|updatePageStatus|gi_getCurrentItems|gn_getItemIndex|anchorBuilder|event|sizesConf|bt_pauseOnHoverConfig|ns2|split|indexOf|go_getObject|serialNumber|is_percentage|gn_getVisibleItemsNextFilter|orgCSS|position|zIndex|none|sc_stopScroll||dur2|prefix|appendTo|sc_setScroll|sc_fireCallbacks|currentPage|before|Number||of|document|the|touchwipe|wN|onTouch|hide|parseInt|floor|show|ms_getTrueLargestSize|selector|currentPosition|destroy|up|maxDimension|primarySizePercentage|ms_getPercentage|org|onTimeoutStart|onTimeoutPause|onTimeoutEnd|sz_storeMargin|stopped|updater|minimum|configuration|gn_getVisibleItemsPrev|cf_getAdjust|to|onEnd|clone|cf_getAlignPadding|cf_mapWrapperSizes|ms_getSizes|a_wsz|a_new|a_cfs_vis|end|updateSizes|eval|sz_setSizes|pgs|deviation|nv_showNavi|mouseenter|mouseleave|pauseOnEvent|keys|wipe|di|go_getNaviObject||is_false|sz|prop|element|starting_position|_cfs_isCarousel|_cfs_init||go_getPrevNextObject|defaults|ms_getParentSize|ms_getMaxDimension|center|in_getResponsiveValues|bottom|in_getAlignPadding|go_complementPrevNextObject|cf_getSynchArr|onPauseStart|onPausePause|onPauseEnd|pauseDuration|in_mapCss|marginBottom|newPosition|_cfs_origCss|sz_storeSizes|sz_setResponsiveSizes|_cfs_unbind_events|stop|finish|interval|type|conditions|gn_getVisibleOrg|backward|sc_hideHiddenItems|a_lef_vis|sc_getDuration|_a_paddingnew|not|sc_showHiddenItems|sc_mapCallbackArguments|sc_afterScroll|sc_fireQueue|cf_setCookie|gn_getVisibleItemsNextTestCircular|slideToPage|valid|linkAnchors|value|_cfs_bind_buttons|click|_cfs_unbind_buttons|scrolled|down|onMouse|swP|swN|bt_mousesheelNumber|delay||_windowWidth|_windowHeight|nh|pauseOnResize|ns3|wrapper||parent|continue|classnames|set|new|cf_getKeyCode|gn_getItemsPrevFilter|gn_getItemsNextFilter|seco|nw|ms_getLargestSize|toLowerCase|ms_hasVariableSizes|sta|cf_getItemAdjustMinMax|is_null|console|caroufredsel|No|go_getItemsObject|go_getScrollObject|go_getAutoObject|go_getPaginationObject|go_getSwipeObject|go_getMousewheelObject|cf_getDimensions|in_complementItems|in_complementPrimarySize|in_complementSecondarySize|upDateOnWindowResize|in_complementVisibleItems|cf_getPadding|500|go_complementAutoObject|go_complementPaginationObject|go_complementSwipeObject|go_complementMousewheelObject|_cfs_build|textAlign|float|marginTop|marginLeft|absolute|_cfs_bind_events|paused|enough|needed|page|slide_|gn_getScrollItemsPrevFilter|Scrolling|gi_getOldItemsPrev|gi_getNewItemsPrev|directscroll|concat|gn_getScrollItemsNextFilter|forward|gi_getOldItemsNext|gi_getNewItemsNext|jumpToStart|after|append|removeItem|round|hash|index|selected|gn_getVisibleItemsPrevFilter|_cfs_origCssSizes|Item|keyup|keyCode|plugin|scN|cursor|The|option|mcN|configs|classname|cf_getCookie|random|itm|onCreate|namespace|pageAnchorBuilder|span|progressbarUpdater|Date|_cfs_isHidden|triggerOnTouchEnd|_cfs_tempCssMargin|newS|secp|ms_getPaddingBorderMargin|l1|l2|join|innerWidth|innerHeight|dx|Set|undefined|jQuery|log|found|caroufredsel_cookie_|relative|fixed|overflow|setInterval|setTimeout|or|Callback|returned|Page|resumed|currently|slide_prev|prependTo|slide_next|prevPage|nextPage|prepend|carousel|insertItem|add|detach|currentVisible|body|find|Preventing|non|sliding|replaceWith|widths|heights|automatically|touchSwipe|min_move_x|min_move_y|preventDefaultEvents|wipeUp|wipeDown|wipeLeft|wipeRight|ontouchstart|in|swipeUp|swipeDown|swipeLeft|swipeRight|move|resize|wrap|class|unshift|location|swing|cfs|div|caroufredsel_wrapper|href|charAt|setTime|1000|expires|toGMTString|path|orgDuration|animate|complete|shift|clearTimeout|clearInterval|skipped|Hiding|navigation|disabled|2500|Width|outer|px|em|even|odd|Infinity|immediate|Array|Object|isNaN|String|Function|Boolean|DEPRECATED|support|it|will|be|removed|Use|instead|quadratic|cubic|elastic|106|126".split("|"),0,{}));
var lbrAnaliticsTimerStart=(new Date).getTime(),lbrAnaliticsSaved=!1,lbrAnaliticsBlur=!1;$(window).on("beforeunload",function(){$.browser.mozilla||$(window).off("unload"),$(window).off("blur"),saveAnalitics("bu")}),$(window).on("unload",function(){$.browser.mozilla||$(window).off("unload"),$(window).off("blur"),saveAnalitics("u")}),$(window).on("blur",function(){saveAnalitics("blur")}),$(window).on("focus",function(){lbrAnaliticsTimerStart=(new Date).getTime(),lbrAnaliticsBlur=!1}),$(document).ready(function(a){alertify.set({delay:5e3}),a("#region").click(function(){showRegions()}),a(".no-price-label").easyTooltip({content:"Цена будет указана в счет-фактуре"}),a("#select_region").change(function(b,c){a(".page-overlay").show(),a.ajax({type:"POST",url:"/site/setRegion",dataType:"json",data:{id:c.selected},success:function(){location.reload()}})}),a("#search").focus(function(){a("#search").blur(function(){a(".quick-result").fadeOut(200)});new AjaxQuickSearch});new QuickSearchEnter;a(".search-button").click(function(){var b=a.trim(a("#search").val());b.length>0&&(document.location.href="/search/show/input/"+b)}),a(".l-menu-wrapper").mCustomScrollbar({scrollButtons:{enable:!0},advanced:{updateOnContentResize:!0}}),a(".one_banner h3").dotdotdot({ellipsis:"... ",wrap:"letter"}),a(".one-banner-special h3").dotdotdot({ellipsis:"... ",wrap:"letter"}),a("#accordion-group").dcAccordion({eventType:"click",saveState:!1,disableLink:!0,speed:"fast",classActive:"test",showCount:!1});var b=a("#accordion-sparepart ul");b.find("li.analog-item").hide(),b.find("li.analog-item:first-child").show(),b.find("li.analog-item:nth-child(2)").show(),a(".more-analogs").click(function(){a(this).hasClass("show-text")?(b.find("li.analog-item").hide(),b.find("li.analog-item:first-child").show(),b.find("li.analog-item:nth-child(2)").show(),a(this).removeClass("show-text").text("Показать все ...")):(b.find("li.analog-item").show(),a(this).addClass("show-text").text("Скрыть"))}),a(".modelline").dcAccordion({eventType:"click",autoClose:!0,saveState:!0,disableLink:!0,speed:"fast",showCount:!1}),a(document).on("click",".wish-small",function(){var b="",c=a(this).parent(),d=c.find(".cart-quantity"),e=parseInt(d.val()),f=c.attr("original");void 0!==f&&f!==!1&&(b=f),e>0?a.ajax({type:"POST",url:"/wishlist/add/",dataType:"json",data:{id:a(this).parent().attr("elem"),count:e,original:b},success:function(a){a.redirect?window.location=a.redirect:alertify.success(a.message)}}):alertify.success('<div class="mes-notify"><span></span><div>Введено неправильное количество</div></div>')}),a("#sale-block ul").length&&a("#sale-block ul").carouFredSel({prev:"#prev-logo-sale",next:"#next-logo-sale",items:3,direction:"down",auto:!1}),a(".prod-wrapper .dcjq-parent-li").each(function(b){a(this).find("a").removeClass("active"),a(this).find("ul").hide()}),a(".product-info .dcjq-parent-li").each(function(b){a(this).find("a").removeClass("active"),a(this).find("ul").hide()}),a(".model-wrapper .dcjq-parent-li").each(function(b){a(this).find("a").removeClass("active"),a(this).find("ul").hide()}),a(".modellines-wrapper .dcjq-parent-li").each(function(b){a(this).find("a").removeClass("active"),a(this).find("ul").hide()}),a(".price_link").length&&a(".price_link").easyTooltip({content:"Авторизуйтесь, чтобы узнать цену"}),a(".price-link").length&&a(".price-link").easyTooltip({content:"Авторизуйтесь, чтобы узнать цену"}),a(document).on("click",".small-cart-button",addToCart),a(document).on("click",".small-cart-button-wishlist",addToCart),a("#carousel ul").length&&a("#carousel ul").carouFredSel({pagination:"#pager",items:1,scroll:2e3}),a("#carousel-logo ul").length&&a("#carousel-logo ul").carouFredSel({next:"#next-logo",prev:"#prev-logo",auto:{items:5,fx:"scroll",easing:"linear",duration:1e3,pauseOnHover:!0},pagination:"#pager-logo",items:5}),a(".text div *").hide(),a(".text div *:first-child").show(),a(".text div *:nth-child(2)").show(),a(".bottom-more").click(function(){a(this).hasClass("show-text")?(a(this).parent().find("div *").hide(),a(this).parent().find("div *:first-child").show(),a(this).parent().find("div *:nth-child(2)").show(),a(this).removeClass("show-text").text("Подробнее...")):(a(this).parent().find("div *").show(),a(this).addClass("show-text").text("Скрыть"))}),a("#select_region").chosen({disable_search:!0}),a(".call #call_button").click(function(){var a="height=250, width=350, toolbar=0, menubar=0, location=0, status=0, resizable=0, scrollbar=0";w=window.open("","",a),w.document.write('<head><title>Заказать обратный звонок</title><link rel="stylesheet" type="text/css" href="/css/front/call_window.css"></head><body>'),content=document.getElementById("window_call"),w.document.write(content.innerHTML),w.document.write("</body></html>")})});var cart={init:function(){$(".cart-quantity").focus(function(){var a=$(this).parent().find(".shop-cart-quantity");a.addClass("active-list"),a.show()}),$(".cart-quantity").bind("input",function(){var a=$(this).val();!isNaN(a)&&a.length>0?$(".shop-cart-quantity li:not(.del-num)").hide():$(".shop-cart-quantity li:not(.del-num)").show()}),$(".shop-cart-quantity").mouseleave(function(){cart.closeList();var a=$(this).parent().find(".cart-quantity");a.blur()}),$(".small-cart-button").click(function(){var a=$(this).parent().find(".cart-quantity"),b=parseInt(a.text());isNaN(b)||$.ajax({type:"POST",url:"#",dataType:"json",data:{productId:a.attr("product"),status:status,reason:reason,date:date},success:function(a){if("date"!=a.message){var b=$("img[userid="+$("#u-block-id").val()+"]");b.parent().parent().parent().find(".u-status").text(a.message),b.attr("status",status),$(".u-block").addClass("hide")}else $("#u-block-to").css("border-color","red"),flag=!1}})}),$(".shop-cart-quantity div").click(function(a){var b=parseInt($(this).text());isNaN(b)?$(".active-list").parent().find(".cart-quantity").val(""):$(".active-list").parent().find(".cart-quantity").val(b),cart.closeList(),a.stopPropagation()})},closeList:function(){var a=$(".active-list");a.hide(),a.removeClass("active-list")}};!function(a,b){"use strict";var c,d=a.document;c=function(){var c,e,f,g,h,i,j,k,l,m,n,o,p,q={},r={},s=!1,t={ENTER:13,ESC:27,SPACE:32},u=[];return r={buttons:{holder:'<nav class="alertify-buttons">{{buttons}}</nav>',submit:'<button type="submit" class="alertify-button alertify-button-ok" id="alertify-ok">{{ok}}</button>',ok:'<button class="alertify-button alertify-button-ok" id="alertify-ok">{{ok}}</button>',cancel:'<button class="alertify-button alertify-button-cancel" id="alertify-cancel">{{cancel}}</button>'},input:'<div class="alertify-text-wrapper"><input type="text" class="alertify-text" id="alertify-text"></div>',message:'<p class="alertify-message">{{message}}</p>',log:'<article class="alertify-log{{class}}">{{message}}</article>'},p=function(){var a,c,e=!1,f=d.createElement("fakeelement"),g={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"};for(a in g)if(f.style[a]!==b){c=g[a],e=!0;break}return{type:c,supported:e}},c=function(a){return d.getElementById(a)},q={labels:{ok:"OK",cancel:"Cancel"},delay:5e3,buttonReverse:!1,buttonFocus:"ok",transition:b,addListeners:function(a){var b,c,i,j,k,l="undefined"!=typeof f,m="undefined"!=typeof e,n="undefined"!=typeof o,p="",q=this;b=function(b){return"undefined"!=typeof b.preventDefault&&b.preventDefault(),i(b),"undefined"!=typeof o&&(p=o.value),"function"==typeof a&&("undefined"!=typeof o?a(!0,p):a(!0)),!1},c=function(b){return"undefined"!=typeof b.preventDefault&&b.preventDefault(),i(b),"function"==typeof a&&a(!1),!1},i=function(a){q.hide(),q.unbind(d.body,"keyup",j),q.unbind(g,"focus",k),l&&q.unbind(f,"click",b),m&&q.unbind(e,"click",c)},j=function(a){var d=a.keyCode;(d===t.SPACE&&!n||n&&d===t.ENTER)&&b(a),d===t.ESC&&m&&c(a)},k=function(a){n?o.focus():!m||q.buttonReverse?f.focus():e.focus()},this.bind(g,"focus",k),this.bind(h,"focus",k),l&&this.bind(f,"click",b),m&&this.bind(e,"click",c),this.bind(d.body,"keyup",j),this.transition.supported||this.setFocus()},bind:function(a,b,c){"function"==typeof a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},handleErrors:function(){if("undefined"!=typeof a.onerror){var b=this;return a.onerror=function(a,c,d){b.error("["+a+" on line "+d+" of "+c+"]",0)},!0}return!1},appendButtons:function(a,b){return this.buttonReverse?b+a:a+b},build:function(a){var b="",c=a.type,d=a.message,e=a.cssClass||"";switch(b+='<div class="alertify-dialog">',b+='<a id="alertify-resetFocusBack" class="alertify-resetFocus" href="#">Reset Focus</a>',"none"===q.buttonFocus&&(b+='<a href="#" id="alertify-noneFocus" class="alertify-hidden"></a>'),"prompt"===c&&(b+='<div id="alertify-form">'),b+='<article class="alertify-inner">',b+=r.message.replace("{{message}}",d),"prompt"===c&&(b+=r.input),b+=r.buttons.holder,b+="</article>","prompt"===c&&(b+="</div>"),b+='<a id="alertify-resetFocus" class="alertify-resetFocus" href="#">Reset Focus</a>',b+="</div>",c){case"confirm":b=b.replace("{{buttons}}",this.appendButtons(r.buttons.cancel,r.buttons.ok)),b=b.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);break;case"prompt":b=b.replace("{{buttons}}",this.appendButtons(r.buttons.cancel,r.buttons.submit)),b=b.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);break;case"alert":b=b.replace("{{buttons}}",r.buttons.ok),b=b.replace("{{ok}}",this.labels.ok)}return l.className="alertify alertify-"+c+" "+e,k.className="alertify-cover",b},close:function(a,b){var c,d,e=b&&!isNaN(b)?+b:this.delay,f=this;this.bind(a,"click",function(){c(a)}),d=function(a){a.stopPropagation(),f.unbind(this,f.transition.type,d),m.removeChild(this),m.hasChildNodes()||(m.className+=" alertify-logs-hidden")},c=function(a){"undefined"!=typeof a&&a.parentNode===m&&(f.transition.supported?(f.bind(a,f.transition.type,d),a.className+=" alertify-log-hide"):(m.removeChild(a),m.hasChildNodes()||(m.className+=" alertify-logs-hidden")))},0!==b&&setTimeout(function(){c(a)},e)},dialog:function(a,b,c,e,f){j=d.activeElement;var g=function(){m&&null!==m.scrollTop&&k&&null!==k.scrollTop||g()};if("string"!=typeof a)throw new Error("message must be a string");if("string"!=typeof b)throw new Error("type must be a string");if("undefined"!=typeof c&&"function"!=typeof c)throw new Error("fn must be a function");return this.init(),g(),u.push({type:b,message:a,callback:c,placeholder:e,cssClass:f}),s||this.setup(),this},extend:function(a){if("string"!=typeof a)throw new Error("extend method must have exactly one parameter");return function(b,c){return this.log(b,a,c),this}},hide:function(){var a,b=this;u.splice(0,1),u.length>0?this.setup(!0):(s=!1,a=function(c){c.stopPropagation(),b.unbind(l,b.transition.type,a)},this.transition.supported?(this.bind(l,this.transition.type,a),l.className="alertify alertify-hide alertify-hidden"):l.className="alertify alertify-hide alertify-hidden alertify-isHidden",k.className="alertify-cover alertify-cover-hidden",j.focus())},init:function(){d.createElement("nav"),d.createElement("article"),d.createElement("section"),null==c("alertify-cover")&&(k=d.createElement("div"),k.setAttribute("id","alertify-cover"),k.className="alertify-cover alertify-cover-hidden",d.body.appendChild(k)),null==c("alertify")&&(s=!1,u=[],l=d.createElement("section"),l.setAttribute("id","alertify"),l.className="alertify alertify-hidden",d.body.appendChild(l)),null==c("alertify-logs")&&(m=d.createElement("section"),m.setAttribute("id","alertify-logs"),m.className="alertify-logs alertify-logs-hidden",d.body.appendChild(m)),d.body.setAttribute("tabindex","0"),this.transition=p()},log:function(a,b,c,d){var e=function(){m&&null!==m.scrollTop||e()};return this.init(),e(),m.className="alertify-logs",this.notify(a,b,c,d),this},notify:function(a,b,c,e){var f=d.createElement("article");f.className="alertify-log"+("string"==typeof b&&""!==b?" alertify-log-"+b:""),f.innerHTML=a,"function"==typeof e&&this.bind(f,"click",e),m.appendChild(f),setTimeout(function(){f.className=f.className+" alertify-log-show"},50),this.close(f,c)},set:function(a){var b;if("object"!=typeof a&&a instanceof Array)throw new Error("args must be an object");for(b in a)a.hasOwnProperty(b)&&(this[b]=a[b])},setFocus:function(){o?(o.focus(),o.select()):i.focus()},setup:function(a){var d,j=u[0],k=this;s=!0,d=function(a){a.stopPropagation(),k.setFocus(),k.unbind(l,k.transition.type,d)},this.transition.supported&&!a&&this.bind(l,this.transition.type,d),l.innerHTML=this.build(j),g=c("alertify-resetFocus"),h=c("alertify-resetFocusBack"),f=c("alertify-ok")||b,e=c("alertify-cancel")||b,i="cancel"===q.buttonFocus?e:"none"===q.buttonFocus?c("alertify-noneFocus"):f,o=c("alertify-text")||b,n=c("alertify-form")||b,"string"==typeof j.placeholder&&""!==j.placeholder&&(o.value=j.placeholder),a&&this.setFocus(),this.addListeners(j.callback)},unbind:function(a,b,c){"function"==typeof a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)}},{alert:function(a,b,c){return q.dialog(a,"alert",b,"",c),this},confirm:function(a,b,c){return q.dialog(a,"confirm",b,"",c),this},extend:q.extend,init:q.init,log:function(a,b,c,d){return q.log(a,b,c,d),this},prompt:function(a,b,c,d){return q.dialog(a,"prompt",b,c,d),this},success:function(a,b,c){return q.log(a,"success",b,c),this},error:function(a,b,c){return q.log(a,"error",b,c),this},set:function(a){q.set(a)},labels:q.labels,debug:q.handleErrors}},"function"==typeof define?define([],function(){return new c}):"undefined"==typeof a.alertify&&(a.alertify=new c)}(this),function(){var a,b,c,d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=function(){function a(){this.options_index=0,this.parsed=[]}return a.prototype.add_node=function(a){return"OPTGROUP"===a.nodeName.toUpperCase()?this.add_group(a):this.add_option(a)},a.prototype.add_group=function(a){var b,c,d,e,f,g;for(b=this.parsed.length,this.parsed.push({array_index:b,group:!0,label:this.escapeExpression(a.label),title:a.title?a.title:void 0,children:0,disabled:a.disabled,classes:a.className}),f=a.childNodes,g=[],d=0,e=f.length;e>d;d++)c=f[d],g.push(this.add_option(c,b,a.disabled));return g},a.prototype.add_option=function(a,b,c){return"OPTION"===a.nodeName.toUpperCase()?(""!==a.text?(null!=b&&(this.parsed[b].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:a.value,text:a.text,html:a.innerHTML,title:a.title?a.title:void 0,selected:a.selected,disabled:c===!0?c:a.disabled,group_array_index:b,group_label:null!=b?this.parsed[b].label:null,classes:a.className,style:a.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},a.prototype.escapeExpression=function(a){var b,c;return null==a||a===!1?"":/[\&\<\>\"\'\`]/.test(a)?(b={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},c=/&(?!\w+;)|[\<\>\"\'\`]/g,a.replace(c,function(a){return b[a]||"&amp;"})):a},a}(),d.select_to_array=function(a){var b,c,e,f,g;for(c=new d,g=a.childNodes,e=0,f=g.length;f>e;e++)b=g[e],c.add_node(b);return c.parsed},b=function(){function a(b,c){this.form_field=b,this.options=null!=c?c:{},a.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return a.prototype.set_default_values=function(){var a=this;return this.click_test_action=function(b){return a.test_active_click(b)},this.activate_action=function(b){return a.activate_field(b)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1},a.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||a.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||a.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||a.default_no_result_text},a.prototype.choice_label=function(a){return this.include_group_label_in_selected&&null!=a.group_label?"<b class='group-name'>"+a.group_label+"</b>"+a.html:a.html},a.prototype.mouse_enter=function(){return this.mouse_on_container=!0},a.prototype.mouse_leave=function(){return this.mouse_on_container=!1},a.prototype.input_focus=function(a){var b=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return b.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},a.prototype.input_blur=function(a){var b=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return b.blur_test()},100))},a.prototype.results_option_build=function(a){var b,c,d,e,f;for(b="",f=this.results_data,d=0,e=f.length;e>d;d++)c=f[d],b+=c.group?this.result_add_group(c):this.result_add_option(c),(null!=a?a.first:void 0)&&(c.selected&&this.is_multiple?this.choice_build(c):c.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(c)));return b},a.prototype.result_add_option=function(a){var b,c;return a.search_match&&this.include_option_in_results(a)?(b=[],a.disabled||a.selected&&this.is_multiple||b.push("active-result"),!a.disabled||a.selected&&this.is_multiple||b.push("disabled-result"),a.selected&&b.push("result-selected"),null!=a.group_array_index&&b.push("group-option"),""!==a.classes&&b.push(a.classes),c=document.createElement("li"),c.className=b.join(" "),c.style.cssText=a.style,c.setAttribute("data-option-array-index",a.array_index),c.innerHTML=a.search_text,a.title&&(c.title=a.title),this.outerHTML(c)):""},a.prototype.result_add_group=function(a){var b,c;return(a.search_match||a.group_match)&&a.active_options>0?(b=[],b.push("group-result"),a.classes&&b.push(a.classes),c=document.createElement("li"),c.className=b.join(" "),c.innerHTML=a.search_text,a.title&&(c.title=a.title),this.outerHTML(c)):""},a.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},a.prototype.reset_single_select_options=function(){var a,b,c,d,e;for(d=this.results_data,e=[],b=0,c=d.length;c>b;b++)a=d[b],a.selected?e.push(a.selected=!1):e.push(void 0);return e},a.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},a.prototype.results_search=function(a){return this.results_showing?this.winnow_results():this.results_show()},a.prototype.winnow_results=function(){var a,b,c,d,e,f,g,h,i,j,k,l;for(this.no_results_clear(),d=0,f=this.get_search_text(),a=f.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),i=new RegExp(a,"i"),c=this.get_search_regex(a),l=this.results_data,j=0,k=l.length;k>j;j++)b=l[j],b.search_match=!1,e=null,this.include_option_in_results(b)&&(b.group&&(b.group_match=!1,b.active_options=0),null!=b.group_array_index&&this.results_data[b.group_array_index]&&(e=this.results_data[b.group_array_index],0===e.active_options&&e.search_match&&(d+=1),e.active_options+=1),b.search_text=b.group?b.label:b.html,(!b.group||this.group_search)&&(b.search_match=this.search_string_match(b.search_text,c),b.search_match&&!b.group&&(d+=1),b.search_match?(f.length&&(g=b.search_text.search(i),h=b.search_text.substr(0,g+f.length)+"</em>"+b.search_text.substr(g+f.length),b.search_text=h.substr(0,g)+"<em>"+h.substr(g)),null!=e&&(e.group_match=!0)):null!=b.group_array_index&&this.results_data[b.group_array_index].search_match&&(b.search_match=!0)));return this.result_clear_highlight(),1>d&&f.length?(this.update_results_content(""),this.no_results(f)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},a.prototype.get_search_regex=function(a){var b;return b=this.search_contains?"":"^",new RegExp(b+a,"i")},a.prototype.search_string_match=function(a,b){var c,d,e,f;if(b.test(a))return!0;if(this.enable_split_word_search&&(a.indexOf(" ")>=0||0===a.indexOf("["))&&(d=a.replace(/\[|\]/g,"").split(" "),d.length))for(e=0,f=d.length;f>e;e++)if(c=d[e],b.test(c))return!0},a.prototype.choices_count=function(){var a,b,c,d;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,d=this.form_field.options,b=0,c=d.length;c>b;b++)a=d[b],a.selected&&(this.selected_option_count+=1);return this.selected_option_count},a.prototype.choices_click=function(a){return a.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},a.prototype.keyup_checker=function(a){var b,c;switch(b=null!=(c=a.which)?c:a.keyCode,this.search_field_scale(),b){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(a.preventDefault(),this.results_showing)return this.result_select(a);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},a.prototype.clipboard_event_checker=function(a){var b=this;return setTimeout(function(){return b.results_search()},50)},a.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},a.prototype.include_option_in_results=function(a){return this.is_multiple&&!this.display_selected_options&&a.selected?!1:!this.display_disabled_options&&a.disabled?!1:a.empty?!1:!0},a.prototype.search_results_touchstart=function(a){return this.touch_started=!0,this.search_results_mouseover(a)},a.prototype.search_results_touchmove=function(a){return this.touch_started=!1,this.search_results_mouseout(a)},a.prototype.search_results_touchend=function(a){return this.touch_started?this.search_results_mouseup(a):void 0},a.prototype.outerHTML=function(a){var b;return a.outerHTML?a.outerHTML:(b=document.createElement("div"),b.appendChild(a),b.innerHTML)},a.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:/iP(od|hone)/i.test(window.navigator.userAgent)?!1:/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent)?!1:!0},a.default_multiple_text="Select Some Options",a.default_single_text="Select an Option",a.default_no_result_text="No results match",a}(),a=jQuery,a.fn.extend({chosen:function(d){return b.browser_is_supported()?this.each(function(b){var e,f;e=a(this),f=e.data("chosen"),"destroy"===d&&f instanceof c?f.destroy():f instanceof c||e.data("chosen",new c(this,d))}):this}}),c=function(b){function c(){return e=c.__super__.constructor.apply(this,arguments)}return g(c,b),c.prototype.setup=function(){return this.form_field_jq=a(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},c.prototype.set_up_html=function(){var b,c;return b=["chosen-container"],b.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&b.push(this.form_field.className),this.is_rtl&&b.push("chosen-rtl"),c={"class":b.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(c.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=a("<div />",c),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},c.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},c.prototype.register_observers=function(){var a=this;return this.container.bind("touchstart.chosen",function(b){return a.container_mousedown(b),b.preventDefault()}),this.container.bind("touchend.chosen",function(b){return a.container_mouseup(b),b.preventDefault()}),this.container.bind("mousedown.chosen",function(b){a.container_mousedown(b)}),this.container.bind("mouseup.chosen",function(b){a.container_mouseup(b)}),this.container.bind("mouseenter.chosen",function(b){a.mouse_enter(b)}),this.container.bind("mouseleave.chosen",function(b){a.mouse_leave(b)}),this.search_results.bind("mouseup.chosen",function(b){a.search_results_mouseup(b)}),this.search_results.bind("mouseover.chosen",function(b){a.search_results_mouseover(b)}),this.search_results.bind("mouseout.chosen",function(b){a.search_results_mouseout(b)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(b){a.search_results_mousewheel(b)}),this.search_results.bind("touchstart.chosen",function(b){a.search_results_touchstart(b)}),this.search_results.bind("touchmove.chosen",function(b){a.search_results_touchmove(b)}),this.search_results.bind("touchend.chosen",function(b){a.search_results_touchend(b)}),this.form_field_jq.bind("chosen:updated.chosen",function(b){a.results_update_field(b)}),this.form_field_jq.bind("chosen:activate.chosen",function(b){a.activate_field(b)}),this.form_field_jq.bind("chosen:open.chosen",function(b){a.container_mousedown(b)}),this.form_field_jq.bind("chosen:close.chosen",function(b){a.input_blur(b)}),this.search_field.bind("blur.chosen",function(b){a.input_blur(b)}),this.search_field.bind("keyup.chosen",function(b){a.keyup_checker(b)}),this.search_field.bind("keydown.chosen",function(b){a.keydown_checker(b)}),this.search_field.bind("focus.chosen",function(b){a.input_focus(b)}),this.search_field.bind("cut.chosen",function(b){a.clipboard_event_checker(b)}),this.search_field.bind("paste.chosen",function(b){a.clipboard_event_checker(b)}),this.is_multiple?this.search_choices.bind("click.chosen",function(b){a.choices_click(b)}):this.container.bind("click.chosen",function(a){a.preventDefault()})},c.prototype.destroy=function(){return a(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},c.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},c.prototype.container_mousedown=function(b){return this.is_disabled||(b&&"mousedown"===b.type&&!this.results_showing&&b.preventDefault(),null!=b&&a(b.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!b||a(b.target)[0]!==this.selected_item[0]&&!a(b.target).parents("a.chosen-single").length||(b.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),a(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},c.prototype.container_mouseup=function(a){return"ABBR"!==a.target.nodeName||this.is_disabled?void 0:this.results_reset(a)},c.prototype.search_results_mousewheel=function(a){var b;return a.originalEvent&&(b=a.originalEvent.deltaY||-a.originalEvent.wheelDelta||a.originalEvent.detail),null!=b?(a.preventDefault(),"DOMMouseScroll"===a.type&&(b=40*b),this.search_results.scrollTop(b+this.search_results.scrollTop())):void 0},c.prototype.blur_test=function(a){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},c.prototype.close_field=function(){return a(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},c.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},c.prototype.test_active_click=function(b){var c;return c=a(b.target).closest(".chosen-container"),c.length&&this.container[0]===c[0]?this.active_field=!0:this.close_field()},c.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=d.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},c.prototype.result_do_highlight=function(a){var b,c,d,e,f;if(a.length){if(this.result_clear_highlight(),this.result_highlight=a,this.result_highlight.addClass("highlighted"),d=parseInt(this.search_results.css("maxHeight"),10),f=this.search_results.scrollTop(),e=d+f,c=this.result_highlight.position().top+this.search_results.scrollTop(),b=c+this.result_highlight.outerHeight(),b>=e)return this.search_results.scrollTop(b-d>0?b-d:0);
if(f>c)return this.search_results.scrollTop(c)}},c.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},c.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},c.prototype.update_results_content=function(a){return this.search_results.html(a)},c.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},c.prototype.set_tab_index=function(a){var b;return this.form_field.tabIndex?(b=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=b):void 0},c.prototype.set_label_behavior=function(){var b=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=a("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(a){return b.is_multiple?b.container_mousedown(a):b.activate_field()}):void 0},c.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},c.prototype.search_results_mouseup=function(b){var c;return c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first(),c.length?(this.result_highlight=c,this.result_select(b),this.search_field.focus()):void 0},c.prototype.search_results_mouseover=function(b){var c;return c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first(),c?this.result_do_highlight(c):void 0},c.prototype.search_results_mouseout=function(b){return a(b.target).hasClass("active-result")?this.result_clear_highlight():void 0},c.prototype.choice_build=function(b){var c,d,e=this;return c=a("<li />",{"class":"search-choice"}).html("<span>"+this.choice_label(b)+"</span>"),b.disabled?c.addClass("search-choice-disabled"):(d=a("<a />",{"class":"search-choice-close","data-option-array-index":b.array_index}),d.bind("click.chosen",function(a){return e.choice_destroy_link_click(a)}),c.append(d)),this.search_container.before(c)},c.prototype.choice_destroy_link_click=function(b){return b.preventDefault(),b.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(a(b.target))},c.prototype.choice_destroy=function(a){return this.result_deselect(a[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),a.parents("li").first().remove(),this.search_field_scale()):void 0},c.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},c.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},c.prototype.result_select=function(a){var b,c;return this.result_highlight?(b=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?b.removeClass("active-result"):this.reset_single_select_options(),b.addClass("result-selected"),c=this.results_data[b[0].getAttribute("data-option-array-index")],c.selected=!0,this.form_field.options[c.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(c):this.single_set_selected_text(this.choice_label(c)),(a.metaKey||a.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[c.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,a.preventDefault(),this.search_field_scale())):void 0},c.prototype.single_set_selected_text=function(a){return null==a&&(a=this.default_text),a===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(a)},c.prototype.result_deselect=function(a){var b;return b=this.results_data[a],this.form_field.options[b.options_index].disabled?!1:(b.selected=!1,this.form_field.options[b.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[b.options_index].value}),this.search_field_scale(),!0)},c.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},c.prototype.get_search_text=function(){return a("<div/>").text(a.trim(this.search_field.val())).html()},c.prototype.winnow_results_set_highlight=function(){var a,b;return b=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),a=b.length?b.first():this.search_results.find(".active-result").first(),null!=a?this.result_do_highlight(a):void 0},c.prototype.no_results=function(b){var c;return c=a('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),c.find("span").first().html(b),this.search_results.append(c),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},c.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},c.prototype.keydown_arrow=function(){var a;return this.results_showing&&this.result_highlight?(a=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(a):void 0:this.results_show()},c.prototype.keyup_arrow=function(){var a;return this.results_showing||this.is_multiple?this.result_highlight?(a=this.result_highlight.prevAll("li.active-result"),a.length?this.result_do_highlight(a.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},c.prototype.keydown_backstroke=function(){var a;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(a=this.search_container.siblings("li.search-choice").last(),a.length&&!a.hasClass("search-choice-disabled")?(this.pending_backstroke=a,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},c.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},c.prototype.keydown_checker=function(a){var b,c;switch(b=null!=(c=a.which)?c:a.keyCode,this.search_field_scale(),8!==b&&this.pending_backstroke&&this.clear_backstroke(),b){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(a),this.mouse_on_container=!1;break;case 13:this.results_showing&&a.preventDefault();break;case 32:this.disable_search&&a.preventDefault();break;case 38:a.preventDefault(),this.keyup_arrow();break;case 40:a.preventDefault(),this.keydown_arrow()}},c.prototype.search_field_scale=function(){var b,c,d,e,f,g,h,i,j;if(this.is_multiple){for(d=0,h=0,f="position:absolute; left: -1000px; top: -1000px; display:none;",g=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],i=0,j=g.length;j>i;i++)e=g[i],f+=e+":"+this.search_field.css(e)+";";return b=a("<div />",{style:f}),b.text(this.search_field.val()),a("body").append(b),h=b.width()+25,b.remove(),c=this.container.outerWidth(),h>c-10&&(h=c-10),this.search_field.css({width:h+"px"})}},c}(b)}.call(this);